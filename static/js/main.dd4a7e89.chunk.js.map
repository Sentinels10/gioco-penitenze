{"version":3,"sources":["actions lazy /^/.//.*$/ groupOptions: {} namespace object","translations.js","useSpecialGames.js","useGameLogic.js","TimerChallengeComponent.js","GameUI.js","DrinkingGameApp.js","index.js","assets/pointing-glove.png"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","t","keys","Object","module","exports","translations","it","appName","appDescription","startButton","backButton","nextButton","doneButton","payButton","enterButton","resetButton","startGameButton","startTimerButton","playersScreenTitle","roomsScreenTitle","unlockGameTitle","playerInputPlaceholder","addPlayerLabel","notEnoughPlayersError","gameOverMessage","actionsCompletedMessage","tapToContinueMessage","returnToRoomsMessage","unlockMoreGamesMessage","gameSelection","title","description","continueButton","selectedGamesTitle","selectedGamesDescription","noGamesSelectedError","games","truthOrDare","name","wouldYouRather","nonHoMai","freeGameEndedTitle","freeGameEndedMessage","purchaseButton","processingPayment","timerChallenge","timeUp","timeRemaining","startTimer","timerStarted","completed","failed","paymentOptions","price","loadingMessage","rooms","color","specialGames","pointFinger","infamata","choosing","truth","dare","debt","questoOQuello","chatDetective","tuttoHaUnPrezzo","tuttiQuelliChe","penitenzeGruppo","penitenzaRandom","chiEPiuProbabile","happyHour","oneVsOne","specialGamesTitles","wouldYouRatherExplanation","truthDareOptions","selectOption","debtExplanation","chooseOption","noActionAvailable","penaltyAlternatives","questions","statements","debts","buttonLabel","activeDebtsTitle","debtDescription","logMessages","neonRouletteStats","redRoomStats","darkRoomStats","coppieStats","partyStats","totalStats","noActionsInPool","missingSpecialGame","truthDareIntro","truthDareNextPlayerIntro","en","fr","de","useSpecialGames","props","players","selectedRoom","currentPlayerIndex","actionsCounter","setCurrentAction","loadBackupActions","MAX_ACTIONS_PER_GAME","gameMode","selectedGames","activeSpecialGame","setActiveSpecialGame","useState","specialGamePlayer","setSpecialGamePlayer","specialGamePositions","setSpecialGamePositions","specialGamesShown","setSpecialGamesShown","truthDarePlayers","setTruthDarePlayers","currentTruthDareIndex","setCurrentTruthDareIndex","currentTruthDareChoice","setCurrentTruthDareChoice","truthDareContent","setTruthDareContent","truthDareState","setTruthDareState","usedTruthQuestions","setUsedTruthQuestions","usedDareQuestions","setUsedDareQuestions","wouldYouRatherContent","setWouldYouRatherContent","questoOQuelloContent","setQuestoOQuelloContent","isTimerActive","setIsTimerActive","timerSeconds","setTimerSeconds","timerChallengeContent","setTimerChallengeContent","debtList","setDebtList","getValidSpecialGamesForGameMode","validGames","push","console","log","getValidSpecialGames","roomId","redRoom","darkRoom","party","coppie","neonRoulette","sort","Math","random","handleGenericSpecialGameWithContent","gameType","backupActions","randomPlayerIndex","gameData","playerName","introText","text","replace","length","options","selectedContent","floor","warn","handleTruthOrDareGame","playerIndex","allPlayers","startIndex","orderedPlayers","slice","handleNonHoMaiGame","gameText","formattedText","handleWouldYouRatherGame","handleQuestoOQuelloGame","handleTimerChallengeGame","fallbackText","MIN_ACTIONS_BETWEEN_SPECIAL_GAMES","initializeSpecialGames","async","positions","validSpecialGames","numSpecialGames","min","startPosition","availableRange","interval","max","i","basePosition","randomOffset","position","minSpacing","maxOffset","shouldShowSpecialGame","counter","matchingPosition","find","pos","findNextSpecialGame","handleSpecialGame","error","prev","randomCount","finalText","handleTruthDareChoice","choice","currentPlayer","player","status","createdAt","Date","toISOString","debtText","selectedRoomId","truthDareGame","allOptions","currentUsedQuestions","shouldResetUsedList","selectUnusedQuestion","usedQuestions","availableOptions","filter","option","includes","substring","choiceText","getSpecialGameMessage","gameInfo","nextTurnAfterSpecialGame","nextTurnCallback","nextPlayer","nextIntroText","timer","setInterval","prevSeconds","clearInterval","useGameLogic","language","setLanguage","gameState","setGameState","setPlayers","inputPlayers","setInputPlayers","setCurrentPlayerIndex","currentAction","setSelectedRoom","previousAction","setPreviousAction","setSelectedGames","setActionsCounter","isLoading","setIsLoading","loadingProgress","setLoadingProgress","currentRoomIndex","setCurrentRoomIndex","roomActionsPool","setRoomActionsPool","giochi","currentActionIndex","setCurrentActionIndex","groupActionsPool","setGroupActionsPool","groupActionPositions","setGroupActionPositions","groupActionsShown","setGroupActionsShown","hasPlayedFreeGame","setHasPlayedFreeGame","hasPaid","setHasPaid","selectedPaymentOption","setSelectedPaymentOption","isProcessingPayment","setIsProcessingPayment","isFirstActionLoaded","setIsFirstActionLoaded","useEffect","storedHasPaid","localStorage","getItem","storedHasPlayedFreeGame","storedLanguage","_roomActionsPool$pool","poolKey","retryTimeout","setTimeout","updateCurrentAction","clearTimeout","addPlayerInput","newId","p","startGamesMode","prepareGamesPool","gamesPool","selectedGamesCount","values","selected","instancesPerGame","extraInstances","gameIndex","instances","finalPool","a","startsWith","backupActionsFileName","backupActionsModule","default","enError","itError","updateCurrentActionWithPool","_actualPool$roomId","_actionText","_actionText2","poolToUse","arguments","undefined","actualPool","currentPool","index","currentPoolAction","actionText","otherPlayers","randomPlayerName","randomIndex","groupAction","updatedPool","splice","nextGameToShow","fallbackTexts","adjustedIndex","attempts","tempAction","questionPenaltyRegex","match","penaltyCount","randomQuestionAlt","penaltyRegex","randomAlt","nextTurn","afterSpecialAction","setItem","nextPlayerIndex","resetGame","changeLanguage","newLanguage","newRooms","newRoomIndex","findIndex","room","openLanguageSelector","enterPlayerSetup","updatePlayerName","input","removePlayerInput","startGame","validPlayers","trim","alert","handleKeyPress","key","nextInput","document","getElementById","focus","selectRoom","_newRoomActionsPool$r","_newRoomActionsPool$r2","_newRoomActionsPool$r3","_newRoomActionsPool$r4","groupActions","shuffledGroupActions","newRoomActionsPool","redRoomActions","darkRoomActions","coppieActions","partyActions","specialGameActions","forEach","Array","isArray","rules","actions","roomContent","maxPerCategory","selectedRedRoomActions","selectedDarkRoomActions","selectedCoppieActions","selectedPartyActions","selectedSpecialGameActions","shuffledActions","backupActionsForRoom","shuffledBackupActions","_newRoomActionsPool$r5","goBack","selectPaymentOption","processPayment","resetPaywallState","removeItem","toggleGameSelection","proceedWithSelectedGames","some","TimerChallengeComponent","_ref","timerIntervalRef","useRef","current","React","createElement","className","style","display","flexDirection","alignItems","gap","width","height","borderRadius","backgroundColor","justifyContent","fontSize","fontWeight","boxShadow","animation","textAlign","onClick","border","cursor","transition","onMouseOver","target","transform","onMouseOut","marginTop","padding","jsx","GameUI","maxWidth","marginBottom","lineHeight","opacity","background","gridTemplateColumns","margin","letterSpacing","flex","marginRight","bottom","left","right","zIndex","disabled","overflowY","overflow","type","value","onChange","onKeyPress","placeholder","minHeight","maxHeight","newIndex","_","toUpperCase","whiteSpace","src","pointingGlove","alt","objectFit","returnToGamesMessage","d","join","top","borderTopColor","DrinkingGameApp","gameLogic","ReactDOM","createRoot","render","StrictMode"],"mappings":"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","file":"static/js/main.dd4a7e89.chunk.js","sourcesContent":["var map = {\n\t\"./backupActions_en\": [\n\t\t6,\n\t\t0\n\t],\n\t\"./backupActions_en.json\": [\n\t\t6,\n\t\t0\n\t],\n\t\"./backupActions_fr\": [\n\t\t8,\n\t\t2\n\t],\n\t\"./backupActions_fr.json\": [\n\t\t8,\n\t\t2\n\t],\n\t\"./backupActions_it\": [\n\t\t7,\n\t\t1\n\t],\n\t\"./backupActions_it.json\": [\n\t\t7,\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 18;\nmodule.exports = webpackAsyncContext;","// translations.js - File che contiene tutte le traduzioni per l'app\r\n\r\nconst translations = {\r\n  it: {\r\n    // Testi generali dell'app\r\n    appName: \"FRIENZ\",\r\n    appDescription: \"Questo club è gestito da un AI. Lei formulerà domande sempre nuove e inaspettate.\",\r\n    \r\n    // Pulsanti e azioni comuni\r\n    startButton: \"INIZIA\",\r\n    backButton: \"Indietro\",\r\n    nextButton: \"NEXT\",\r\n    doneButton: \"FATTO\",\r\n    payButton: \"PAGA\",\r\n    enterButton: \"ENTRA\",\r\n    resetButton: \"Reset (Solo Test)\",\r\n    startGameButton: \"START\",\r\n    startTimerButton: \"⏱️ AVVIA TIMER\",\r\n    \r\n    // Titoli delle schermate\r\n    playersScreenTitle: \"PLAYERS\",\r\n    roomsScreenTitle: \"ROOMS\",\r\n    unlockGameTitle: \"SBLOCCA IL GIOCO\",\r\n    \r\n    // Placeholder e label\r\n    playerInputPlaceholder: \"Enter player name\",\r\n    addPlayerLabel: \"Add Player\",\r\n    \r\n    // Messaggi\r\n    notEnoughPlayersError: \"Inserisci almeno 2 giocatori per iniziare!\",\r\n    gameOverMessage: \"PARTITA FINITA!\",\r\n    actionsCompletedMessage: \"Avete completato {count} azioni!\",\r\n    tapToContinueMessage: \"Tocca per {action}\",\r\n    returnToRoomsMessage: \"tornare alla selezione delle stanze\",\r\n    unlockMoreGamesMessage: \"sbloccare altre partite\",\r\n    \r\n    // Sezione per la selezione giochi (ora parte della stanza giochi)\r\n    gameSelection: {\r\n      title: \"GIOCHI\",\r\n      description: \"Seleziona i giochi che vuoi includere nella partita\",\r\n      continueButton: \"CONTINUA\",\r\n      selectedGamesTitle: \"GIOCHI SELEZIONATI\",\r\n      selectedGamesDescription: \"Mix dei giochi che hai scelto\",\r\n      noGamesSelectedError: \"Seleziona almeno un gioco per continuare!\",\r\n      games: {\r\n        truthOrDare: {\r\n          name: \"Obbligo o Verità\",\r\n          description: \"Il classico gioco di verità e obbligo con opzione debito\"\r\n        },\r\n        wouldYouRather: {\r\n          name: \"Preferiresti\",\r\n          description: \"Domande difficili dove devi scegliere tra due opzioni\"\r\n        },\r\n        nonHoMai: {\r\n          name: \"Non ho mai\",\r\n          description: \"Confessa le cose che hai o non hai mai fatto\"\r\n        }\r\n      }\r\n    },\r\n    \r\n    // Schermata paywall\r\n    freeGameEndedTitle: \"Partita gratuita terminata!\",\r\n    freeGameEndedMessage: \"Hai utilizzato la tua partita gratuita. Sblocca l'app per giocare illimitatamente con tutti i tuoi amici!\",\r\n    purchaseButton: \"ACQUISTA\",\r\n    processingPayment: \"ELABORAZIONE...\",\r\n    \r\n    // Timer Challenge\r\n    timerChallenge: {\r\n      timeUp: \"TEMPO SCADUTO!\",\r\n      timeRemaining: \"Tempo rimanente: {seconds}s\",\r\n      startTimer: \"Clicca per avviare il timer!\",\r\n      timerStarted: \"Timer avviato! Inizia la sfida!\",\r\n      completed: \"Sfida completata!\",\r\n      failed: \"Tempo scaduto! Paga le penalità!\"\r\n    },\r\n    \r\n    // Opzioni di pagamento\r\n    paymentOptions: [\r\n      { id: 'premium', name: 'Premium', price: '4.99', description: 'Sblocca tutte le stanze per sempre' },\r\n      { id: 'prive', name: 'Privè', price: '9.99', description: \"L'AI ricorderà te e i tuoi amici, i vostri gusti, le vostre paure e vi farà domande sempre più personali\" }\r\n    ],\r\n    \r\n    // Loading\r\n    loadingMessage: \"Caricamento in corso...\",\r\n    \r\n    // Stanze\r\n    rooms: [\r\n      { \r\n        id: 'party', \r\n        name: 'Party', \r\n        description: 'Domande divertenti per animare la festa',\r\n        color: '#2563EB'\r\n      },\r\n      { \r\n        id: 'redRoom', \r\n        name: 'Red Room', \r\n        description: 'Domande piccanti e provocanti',\r\n        color: '#DC2626'\r\n      },\r\n      { \r\n        id: 'darkRoom', \r\n        name: 'Dark Room', \r\n        description: 'Non entrare se hai qualcosa da nascondere',\r\n        color: '#1F2937'\r\n      },\r\n      { \r\n        id: 'coppie', \r\n        name: 'Coppie', \r\n        description: 'Domande e sfide romantiche per innamorati',\r\n        color: '#EAB308'\r\n      },\r\n      { \r\n        id: 'giochi', \r\n        name: 'Giochi', \r\n        description: 'Seleziona e combina diversi mini-giochi',\r\n        color: '#8B5CF6'\r\n      },\r\n      { \r\n        id: 'neonRoulette', \r\n        name: 'Neon Roulette', \r\n        description: 'Mix casuale di tutte le modalità',\r\n        color: '#D946EF'\r\n      }\r\n    ],\r\n    \r\n    // Giochi speciali\r\n    specialGames: {\r\n      pointFinger: \"\",//\"{player} sta scegliendo una caratteristica e tutti voteranno...\",\r\n      infamata: \"\",//\"{player} sta decidendo a chi assegnare la domanda o sfida...\",\r\n      truthOrDare: {\r\n        choosing: \"{player} deve scegliere tra Verità, Obbligo o Debito!\",\r\n        truth: \"{player} ha scelto Verità!\",\r\n        dare: \"{player} ha scelto Obbligo!\",\r\n        debt: \"{player} ha scelto Debito!\"\r\n      },\r\n      wouldYouRather: \"\",//\"{player} ha posto la domanda: Preferiresti? Tutti devono votare! La minoranza riceve penalità\",\r\n      questoOQuello: \"\",//\"{player} ha attivato QUESTO O QUELLO! Tutti votano: alza la mano per la prima opzione, tienila abbassata per la seconda. Chi è in minoranza fa 3 penalità!\",\r\n      chatDetective: \"\",//\"{player} è il detective di WhatsApp!\",\r\n      tuttoHaUnPrezzo: \"\",//\"{player} ha avviato il gioco TUTTO HA UN PREZZO!\",\r\n      tuttiQuelliChe: \"\",//\"{player} ha attivato il gioco TUTTI QUELLI CHE!\",\r\n      penitenzeGruppo: \"\",//\"{player} ha attivato PENITENZE DI GRUPPO!\",\r\n      penitenzaRandom: \"\",//\"{player} ha attivato le PENITENZE RANDOM!\",\r\n      nonHoMai: \"\",//\"{player} ha iniziato il gioco NON HO MAI! Dopo di lui tocca al giocatore alla sua destra, finché non lo fanno tutti\",\r\n      chiEPiuProbabile: \"\",//\"{player} ha attivato il gioco CHI È PIÙ PROBABILE CHE! Tutti votano contemporaneamente puntando il dito. Chi riceve più voti fa le penalità!\",\r\n      happyHour: \"\",//\"{player} ha attivato HAPPY HOUR! Tutti ricevono {count} penalità! 🎉\",\r\n      oneVsOne: \"1V1!\",\r\n      timerChallenge: \"\",//\"{player} ha attivato SFIDE A TEMPO! Clicca il timer per iniziare la sfida!\"\r\n    },\r\n    \r\n    // Terminologia giochi speciali\r\n    specialGamesTitles: {\r\n      pointFinger: \"PUNTARE IL DITO\",\r\n      infamata: \"INFAMATA\",\r\n      truthOrDare: \"OBBLIGO VERITÀ O DEBITO\",\r\n      wouldYouRather: \"PREFERIRESTI\",\r\n      questoOQuello: \"QUESTO O QUELLO\",\r\n      chatDetective: \"CHAT DETECTIVE\",\r\n      tuttoHaUnPrezzo: \"TUTTO HA UN PREZZO\",\r\n      tuttiQuelliChe: \"TUTTI QUELLI CHE\",\r\n      penitenzeGruppo: \"PENITENZE DI GRUPPO\",\r\n      penitenzaRandom: \"PENITENZE RANDOM\",\r\n      nonHoMai: \"NON HO MAI\",\r\n      chiEPiuProbabile: \"CHI È PIÙ PROBABILE CHE\",\r\n      happyHour: \"HAPPY HOUR\",\r\n      oneVsOne: \"1V1!\",\r\n      timerChallenge: \"SFIDE A TEMPO\"\r\n    },\r\n    \r\n    // Spiegazione del gioco \"preferiresti\"\r\n    wouldYouRatherExplanation: \"Votate contemporaneamente per alzata di mano!\",\r\n    \r\n    // Opzioni gioco Verità o Obbligo\r\n    truthDareOptions: {\r\n      selectOption: \"Seleziona un'opzione:\",\r\n      truth: \"VERITÀ\",\r\n      dare: \"OBBLIGO\",\r\n      debt: \"DEBITO\",\r\n      debtExplanation: \"Hai scelto di prendere un debito! Il gruppo deciderà quando riscattarlo.\",\r\n      chooseOption: \"SCEGLI UN'OPZIONE\"\r\n    },\r\n    \r\n    // Fallback\r\n    noActionAvailable: \"Nessuna azione disponibile\",\r\n    \r\n    // Alternanze penalità\r\n    penaltyAlternatives: {\r\n      questions: [\r\n        \"? Se non rispondi {count} penalità\",\r\n        \"? Se eviti la domanda {count} penalità\",\r\n        \"? Il silenzio costa {count} penalità\"\r\n      ],\r\n      statements: [\r\n        \"se ti rifiuti {count} penalità\",\r\n        \"se non lo fai {count} penalità\",\r\n        \"altrimenti sono {count} penalità\",\r\n        \"in caso contrario {count} penalità\",\r\n        \"o saranno {count} penalità\",\r\n        \"o riceverai {count} penalità\",\r\n        \"se non hai coraggio {count} penalità\",\r\n        \"o dovrai fare {count} penalità\",\r\n        \"rifiutare costa {count} penalità\"\r\n      ]\r\n    },\r\n    \r\n    // Debiti\r\n    debts: {\r\n      buttonLabel: \"💸\",\r\n      activeDebtsTitle: \"Debiti attivi:\",\r\n      debtDescription: \"Debito assegnato durante il gioco Obbligo Verità Debito\"\r\n    },\r\n    \r\n    // Messaggi di log\r\n    logMessages: {\r\n      neonRouletteStats: \"Neon Roulette stats:\",\r\n      redRoomStats: \"Red Room: {count} azioni\",\r\n      darkRoomStats: \"Dark Room: {count} azioni\",\r\n      coppieStats: \"Coppie: {count} azioni\",\r\n      partyStats: \"Party: {count} azioni\",\r\n      totalStats: \"Totale: {count} azioni\",\r\n      noActionsInPool: \"Nessuna azione nel pool, uso il fallback\",\r\n      missingSpecialGame: \"Manca la sezione specialGames.{type} nel backupActions.json!\"\r\n    },\r\n    \r\n    // Testi dinamici per ObligoVeritàDebito\r\n    truthDareIntro: \"OBBLIGO VERITÀ O DEBITO: È il turno di {player}. Se scegli Debito, eviti la penalità ma ti viene assegnato un debito che potrà essere riscattato in qualsiasi momento da chi dirige il gioco (es. \\\"Vai a prendermi da bere\\\" o \\\"Posta una storia imbarazzante\\\"). Scegli una delle opzioni!\",\r\n    truthDareNextPlayerIntro: \"OBBLIGO VERITÀ O DEBITO: È il turno di {player}. Scegli una delle opzioni!\"\r\n  },\r\n  \r\n  en: {\r\n    // General app texts\r\n    appName: \"FRIENZ\",\r\n    appDescription: \"This club is run by an AI. It will formulate new and unexpected questions.\",\r\n    \r\n    // Buttons and common actions\r\n    startButton: \"START\",\r\n    backButton: \"Back\",\r\n    nextButton: \"NEXT\",\r\n    doneButton: \"DONE\",\r\n    payButton: \"PAY\",\r\n    enterButton: \"ENTER\",\r\n    resetButton: \"Reset (Test Only)\",\r\n    startGameButton: \"START\",\r\n    startTimerButton: \"⏱️ START TIMER\",\r\n    \r\n    // Screen titles\r\n    playersScreenTitle: \"PLAYERS\",\r\n    roomsScreenTitle: \"ROOMS\",\r\n    unlockGameTitle: \"UNLOCK THE GAME\",\r\n    \r\n    // Placeholders and labels\r\n    playerInputPlaceholder: \"Enter player name\",\r\n    addPlayerLabel: \"Add Player\",\r\n    \r\n    // Messages\r\n    notEnoughPlayersError: \"Enter at least 2 players to start!\",\r\n    gameOverMessage: \"GAME OVER!\",\r\n    actionsCompletedMessage: \"You completed {count} actions!\",\r\n    tapToContinueMessage: \"Tap to {action}\",\r\n    returnToRoomsMessage: \"return to room selection\",\r\n    unlockMoreGamesMessage: \"unlock more games\",\r\n    \r\n    // Game selection section (now part of games room)\r\n    gameSelection: {\r\n      title: \"GAMES\",\r\n      description: \"Select the games you want to include in the match\",\r\n      continueButton: \"CONTINUE\",\r\n      selectedGamesTitle: \"SELECTED GAMES\",\r\n      selectedGamesDescription: \"Mix of the games you chose\",\r\n      noGamesSelectedError: \"Select at least one game to continue!\",\r\n      games: {\r\n        truthOrDare: {\r\n          name: \"Truth or Dare\",\r\n          description: \"The classic truth and dare game with debt option\"\r\n        },\r\n        wouldYouRather: {\r\n          name: \"Would You Rather\",\r\n          description: \"Difficult questions where you must choose between two options\"\r\n        },\r\n        nonHoMai: {\r\n          name: \"Never Have I Ever\",\r\n          description: \"Confess the things you have or have never done\"\r\n        }\r\n      }\r\n    },\r\n    \r\n    // Paywall screen\r\n    freeGameEndedTitle: \"Free game ended!\",\r\n    freeGameEndedMessage: \"You've used your free game. Unlock the app to play unlimited games with all your friends!\",\r\n    purchaseButton: \"PURCHASE\",\r\n    processingPayment: \"PROCESSING...\",\r\n    \r\n    // Timer Challenge\r\n    timerChallenge: {\r\n      timeUp: \"TIME'S UP!\",\r\n      timeRemaining: \"Time remaining: {seconds}s\",\r\n      startTimer: \"Click to start the timer!\",\r\n      timerStarted: \"Timer started! Begin the challenge!\",\r\n      completed: \"Challenge completed!\",\r\n      failed: \"Time's up! Pay the penalties!\"\r\n    },\r\n    \r\n    // Payment options\r\n    paymentOptions: [\r\n      { id: 'premium', name: 'Premium', price: '4.99', description: 'Unlock all rooms forever' },\r\n      { id: 'prive', name: 'VIP', price: '9.99', description: \"The AI will remember you and your friends, your tastes, your fears, and will ask increasingly personal questions\" }\r\n    ],\r\n    \r\n    // Loading\r\n    loadingMessage: \"Loading...\",\r\n    \r\n    // Rooms\r\n    rooms: [\r\n      { \r\n        id: 'party', \r\n        name: 'Party', \r\n        description: 'Fun questions to liven up the party',\r\n        color: '#2563EB'\r\n      },\r\n      { \r\n        id: 'redRoom', \r\n        name: 'Red Room', \r\n        description: 'Spicy and provocative questions',\r\n        color: '#DC2626'\r\n      },\r\n      { \r\n        id: 'darkRoom', \r\n        name: 'Dark Room', \r\n        description: \"Don't enter if you have something to hide\",\r\n        color: '#1F2937'\r\n      },\r\n      { \r\n        id: 'coppie', \r\n        name: 'Couples', \r\n        description: 'Romantic questions and challenges for lovers',\r\n        color: '#EAB308'\r\n      },\r\n      { \r\n        id: 'giochi', \r\n        name: 'Games', \r\n        description: 'Select and combine different mini-games',\r\n        color: '#8B5CF6'\r\n      },\r\n      { \r\n        id: 'neonRoulette', \r\n        name: 'Neon Roulette', \r\n        description: 'Random mix of all modes',\r\n        color: '#D946EF'\r\n      }\r\n    ],\r\n    \r\n    // Special games\r\n    specialGames: {\r\n      pointFinger: \"{player} is choosing a characteristic and everyone will vote...\",\r\n      infamata: \"{player} is deciding who to assign the question or challenge to...\",\r\n      truthOrDare: {\r\n        choosing: \"{player} must choose between Truth, Dare, or Debt!\",\r\n        truth: \"{player} chose Truth!\",\r\n        dare: \"{player} chose Dare!\",\r\n        debt: \"{player} chose Debt!\"\r\n      },\r\n      wouldYouRather: \"{player} asked the question: Would You Rather? Everyone must vote! The minority gets penalties\",\r\n      questoOQuello: \"{player} has activated THIS OR THAT! Everyone votes: raise your hand for the first option, keep it down for the second. The minority gets 3 penalties!\",\r\n      chatDetective: \"{player} is the WhatsApp detective!\",\r\n      tuttoHaUnPrezzo: \"{player} has started the EVERYTHING HAS A PRICE game!\",\r\n      tuttiQuelliChe: \"{player} has activated the ALL THOSE WHO game!\",\r\n      penitenzeGruppo: \"{player} has activated GROUP PENALTIES!\",\r\n      penitenzaRandom: \"{player} has activated RANDOM PENALTIES!\",\r\n      nonHoMai: \"{player} has started the I HAVE NEVER game! After them, it's the player on their right's turn, until everyone has played.\",\r\n      chiEPiuProbabile: \"{player} has activated the WHO IS MOST LIKELY TO game! Everyone votes simultaneously by pointing a finger. Whoever gets the most votes takes the penalties!\",\r\n      happyHour: \"{player} has activated HAPPY HOUR! Everyone receives {count} penalties! 🎉\",\r\n      oneVsOne: \"1V1!\",\r\n      timerChallenge: \"{player} has activated SPEED CHALLENGES! Click the timer to start the challenge!\"\r\n    },\r\n    \r\n    // Special games terminology\r\n    specialGamesTitles: {\r\n      pointFinger: \"POINT THE FINGER\",\r\n      infamata: \"SNITCH\",\r\n      truthOrDare: \"TRUTH, DARE OR DEBT\",\r\n      wouldYouRather: \"WOULD YOU RATHER\",\r\n      questoOQuello: \"THIS OR THAT\",\r\n      chatDetective: \"CHAT DETECTIVE\",\r\n      tuttoHaUnPrezzo: \"EVERYTHING HAS A PRICE\",\r\n      tuttiQuelliChe: \"ALL THOSE WHO\",\r\n      penitenzeGruppo: \"GROUP PENALTIES\",\r\n      penitenzaRandom: \"RANDOM PENALTIES\",\r\n      nonHoMai: \"I HAVE NEVER\",\r\n      chiEPiuProbabile: \"WHO IS MOST LIKELY TO\",\r\n      happyHour: \"HAPPY HOUR\",\r\n      oneVsOne: \"1V1!\",\r\n      timerChallenge: \"SPEED CHALLENGES\"\r\n    },\r\n    \r\n    // Would You Rather game explanation\r\n    wouldYouRatherExplanation: \"Everyone votes: raise your hand for the first option, keep it down for the second. Those in the minority get penalties!\",\r\n    \r\n    // Truth or Dare game options\r\n    truthDareOptions: {\r\n      selectOption: \"Select an option:\",\r\n      truth: \"TRUTH\",\r\n      dare: \"DARE\",\r\n      debt: \"DEBT\",\r\n      debtExplanation: \"You chose to take a debt! The group will decide when to redeem it.\",\r\n      chooseOption: \"CHOOSE AN OPTION\"\r\n    },\r\n    \r\n    // Fallback\r\n    noActionAvailable: \"No action available\",\r\n    \r\n    // Penalty alternatives\r\n    penaltyAlternatives: {\r\n      questions: [\r\n        \"? If you don't answer, {count} penalties\",\r\n        \"? If you avoid the question, {count} penalties\",\r\n        \"? Silence costs {count} penalties\"\r\n      ],\r\n      statements: [\r\n        \"if you refuse, {count} penalties\",\r\n        \"if you don't do it, {count} penalties\",\r\n        \"otherwise it's {count} penalties\",\r\n        \"or else {count} penalties\",\r\n        \"or you'll get {count} penalties\",\r\n        \"if you don't have the courage, {count} penalties\",\r\n        \"or you'll have to do {count} penalties\",\r\n        \"refusing costs {count} penalties\"\r\n      ]\r\n    },\r\n    \r\n    // Debts\r\n    debts: {\r\n      buttonLabel: \"💸\",\r\n      activeDebtsTitle: \"Active debts:\",\r\n      debtDescription: \"Debt assigned during the Truth, Dare or Debt game\"\r\n    },\r\n    \r\n    // Log messages\r\n    logMessages: {\r\n      neonRouletteStats: \"Neon Roulette stats:\",\r\n      redRoomStats: \"Red Room: {count} actions\",\r\n      darkRoomStats: \"Dark Room: {count} actions\",\r\n      coppieStats: \"Couples: {count} actions\",\r\n      partyStats: \"Party: {count} actions\",\r\n      totalStats: \"Total: {count} actions\",\r\n      noActionsInPool: \"No actions in the pool, using fallback\",\r\n      missingSpecialGame: \"Missing specialGames.{type} section in backupActions.json!\"\r\n    },\r\n    \r\n    // Dynamic texts for Truth/Dare/Debt\r\n    truthDareIntro: \"TRUTH, DARE OR DEBT: It's {player}'s turn. If you choose Debt, you avoid the penalty but you're assigned a debt that can be redeemed at any time by whoever is running the game (e.g., \\\"Get me a drink\\\" or \\\"Post an embarrassing story\\\"). Choose one of the options!\",\r\n    truthDareNextPlayerIntro: \"TRUTH, DARE OR DEBT: It's {player}'s turn. Choose one of the options!\"\r\n  },\r\n  \r\n  fr: {\r\n    // Textes généraux de l'application\r\n    appName: \"FRIENZ\",\r\n    appDescription: \"Ce club est géré par une IA. Elle formulera des questions nouvelles et inattendues.\",\r\n    \r\n    // Boutons et actions communes\r\n    startButton: \"COMMENCER\",\r\n    backButton: \"Retour\",\r\n    nextButton: \"SUIVANT\",\r\n    doneButton: \"TERMINÉ\",\r\n    payButton: \"PAYER\",\r\n    enterButton: \"ENTRER\",\r\n    resetButton: \"Réinitialiser (Test Uniquement)\",\r\n    startGameButton: \"DÉMARRER\",\r\n    startTimerButton: \"⏱️ LANCER TIMER\",\r\n    \r\n    // Titres des écrans\r\n    playersScreenTitle: \"JOUEURS\",\r\n    roomsScreenTitle: \"SALLES\",\r\n    unlockGameTitle: \"DÉBLOQUER LE JEU\",\r\n    \r\n    // Placeholders et labels\r\n    playerInputPlaceholder: \"Nom du joueur\",\r\n    addPlayerLabel: \"Ajouter Joueur\",\r\n    \r\n    // Messages\r\n    notEnoughPlayersError: \"Entrez au moins 2 joueurs pour commencer!\",\r\n    gameOverMessage: \"JEU TERMINÉ!\",\r\n    actionsCompletedMessage: \"Vous avez complété {count} actions!\",\r\n    tapToContinueMessage: \"Touchez pour {action}\",\r\n    returnToRoomsMessage: \"retourner à la sélection des salles\",\r\n    unlockMoreGamesMessage: \"débloquer plus de jeux\",\r\n    \r\n    // Section de sélection des jeux (maintenant partie de la salle de jeux)\r\n    gameSelection: {\r\n      title: \"JEUX\",\r\n      description: \"Sélectionnez les jeux que vous voulez inclure dans la partie\",\r\n      continueButton: \"CONTINUER\",\r\n      selectedGamesTitle: \"JEUX SÉLECTIONNÉS\",\r\n      selectedGamesDescription: \"Mélange des jeux que vous avez choisis\",\r\n      noGamesSelectedError: \"Sélectionnez au moins un jeu pour continuer!\",\r\n      games: {\r\n        truthOrDare: {\r\n          name: \"Vérité ou Action\",\r\n          description: \"Le jeu classique de vérité et action avec option dette\"\r\n        },\r\n        wouldYouRather: {\r\n          name: \"Préférerais-tu\",\r\n          description: \"Questions difficiles où vous devez choisir entre deux options\"\r\n        },\r\n        nonHoMai: {\r\n          name: \"Je n'ai jamais\",\r\n          description: \"Confessez les choses que vous avez ou n'avez jamais faites\"\r\n        }\r\n      }\r\n    },\r\n    \r\n    // Écran paywall\r\n    freeGameEndedTitle: \"Partie gratuite terminée!\",\r\n    freeGameEndedMessage: \"Vous avez utilisé votre partie gratuite. Débloquez l'application pour jouer de façon illimitée avec tous vos amis!\",\r\n    purchaseButton: \"ACHETER\",\r\n    processingPayment: \"TRAITEMENT...\",\r\n    \r\n    // Timer Challenge\r\n    timerChallenge: {\r\n      timeUp: \"TEMPS ÉCOULÉ!\",\r\n      timeRemaining: \"Temps restant: {seconds}s\",\r\n      startTimer: \"Cliquez pour lancer le timer!\",\r\n      timerStarted: \"Timer lancé! Commencez le défi!\",\r\n      completed: \"Défi terminé!\",\r\n      failed: \"Temps écoulé! Payez les pénalités!\"\r\n    },\r\n    \r\n    // Options de paiement\r\n    paymentOptions: [\r\n      { id: 'premium', name: 'Premium', price: '4.99', description: 'Débloque toutes les salles pour toujours' },\r\n      { id: 'prive', name: 'VIP', price: '9.99', description: \"L'IA se souviendra de vous et de vos amis, de vos goûts, de vos peurs, et posera des questions de plus en plus personnelles\" }\r\n    ],\r\n    \r\n    // Chargement\r\n    loadingMessage: \"Chargement en cours...\",\r\n    \r\n    // Salles\r\n    rooms: [\r\n      { \r\n        id: 'party', \r\n        name: 'Party', \r\n        description: 'Questions amusantes pour animer la fête',\r\n        color: '#2563EB'\r\n      },\r\n      { \r\n        id: 'redRoom', \r\n        name: 'Red Room', \r\n        description: 'Questions épicées et provocantes',\r\n        color: '#DC2626'\r\n      },\r\n      { \r\n        id: 'darkRoom', \r\n        name: 'Dark Room', \r\n        description: \"N'entrez pas si vous avez quelque chose à cacher\",\r\n        color: '#1F2937'\r\n      },\r\n      { \r\n        id: 'coppie', \r\n        name: 'Couples', \r\n        description: 'Questions et défis romantiques pour les amoureux',\r\n        color: '#EAB308'\r\n      },\r\n      { \r\n        id: 'giochi', \r\n        name: 'Jeux', \r\n        description: 'Sélectionnez et combinez différents mini-jeux',\r\n        color: '#8B5CF6'\r\n      },\r\n      { \r\n        id: 'neonRoulette', \r\n        name: 'Neon Roulette', \r\n        description: 'Mélange aléatoire de tous les modes',\r\n        color: '#D946EF'\r\n      }\r\n    ],\r\n    \r\n    // Jeux spéciaux\r\n    specialGames: {\r\n      pointFinger: \"{player} choisit une caractéristique et tout le monde va voter...\",\r\n      infamata: \"{player} décide à qui attribuer la question ou le défi...\",\r\n      truthOrDare: {\r\n        choosing: \"{player} doit choisir entre Vérité, Action ou Dette!\",\r\n        truth: \"{player} a choisi Vérité!\",\r\n        dare: \"{player} a choisi Action!\",\r\n        debt: \"{player} a choisi Dette!\"\r\n      },\r\n      wouldYouRather: \"{player} a posé la question: Préférerais-tu? Tout le monde doit voter! La minorité reçoit des pénalités\",\r\n      questoOQuello: \"{player} a activé CECI OU CELA! Tout le monde vote: levez la main pour la première option, gardez-la baissée pour la seconde. La minorité reçoit 3 pénalités!\",\r\n      chatDetective: \"{player} est le détective WhatsApp !\",\r\n      tuttoHaUnPrezzo: \"{player} a lancé le jeu TOUT A UN PRIX !\",\r\n      tuttiQuelliChe: \"{player} a activé le jeu TOUS CEUX QUI!\",\r\n      penitenzeGruppo: \"{player} a activé PÉNALITÉS DE GROUPE!\",\r\n      penitenzaRandom: \"{player} a activé les PÉNALITÉS ALÉATOIRES!\",\r\n      nonHoMai: \"{player} a commencé le jeu JE N'AI JAMAIS! Après lui, c'est au tour du joueur à sa droite, jusqu'à ce que tout le monde ait joué.\",\r\n      chiEPiuProbabile: \"{player} a activé le jeu QUI EST LE PLUS SUSCEPTIBLE DE! Tout le monde vote simultanément en pointant du doigt. Celui qui reçoit le plus de votes reçoit les pénalités!\",\r\n      happyHour: \"{player} a activé l'HAPPY HOUR ! Tout le monde reçoit {count} pénalités ! 🎉\",\r\n      oneVsOne: \"1V1!\",\r\n      timerChallenge: \"{player} a activé DÉFIS CHRONOMÉTRÉS! Cliquez sur le timer pour commencer le défi!\"\r\n    },\r\n    \r\n    // Terminologie des jeux spéciaux\r\n    specialGamesTitles: {\r\n      pointFinger: \"POINTER DU DOIGT\",\r\n      infamata: \"BALANCE\",\r\n      truthOrDare: \"VÉRITÉ, ACTION OU DETTE\",\r\n      wouldYouRather: \"PRÉFÉRERAIS-TU\",\r\n      questoOQuello: \"CECI OU CELA\",\r\n      chatDetective: \"DÉTECTIVE DE CHAT\",\r\n      tuttoHaUnPrezzo: \"TOUT A UN PRIX\",\r\n      tuttiQuelliChe: \"TOUS CEUX QUI\",\r\n      penitenzeGruppo: \"PÉNALITÉS DE GROUPE\",\r\n      penitenzaRandom: \"PÉNALITÉS ALÉATOIRES\",\r\n      nonHoMai: \"JE N'AI JAMAIS\",\r\n      chiEPiuProbabile: \"QUI EST LE PLUS SUSCEPTIBLE DE\",\r\n      happyHour: \"HAPPY HOUR\",\r\n      oneVsOne: \"1V1!\",\r\n      timerChallenge: \"DÉFIS CHRONOMÉTRÉS\"\r\n    },\r\n    \r\n    // Explication du jeu Préférerais-tu\r\n    wouldYouRatherExplanation: \"Tout le monde vote: levez la main pour la première option, gardez-la baissée pour la seconde. Ceux en minorité reçoivent des pénalités!\",\r\n    \r\n    // Options du jeu Vérité ou Action\r\n    truthDareOptions: {\r\n      selectOption: \"Sélectionnez une option:\",\r\n      truth: \"VÉRITÉ\",\r\n      dare: \"ACTION\",\r\n      debt: \"DETTE\",\r\n      debtExplanation: \"Vous avez choisi de prendre une dette! Le groupe décidera quand la racheter.\",\r\n      chooseOption: \"CHOISISSEZ UNE OPTION\"\r\n    },\r\n    \r\n    // Fallback\r\n    noActionAvailable: \"Aucune action disponible\",\r\n    \r\n    // Alternatives de pénalité\r\n    penaltyAlternatives: {\r\n      questions: [\r\n        \"? Si vous ne répondez pas, {count} pénalités\",\r\n        \"? Si vous évitez la question, {count} pénalités\",\r\n        \"? Le silence coûte {count} pénalités\"\r\n      ],\r\n      statements: [\r\n        \"si vous refusez, {count} pénalités\",\r\n        \"si vous ne le faites pas, {count} pénalités\",\r\n        \"sinon c'est {count} pénalités\",\r\n        \"ou alors {count} pénalités\",\r\n        \"ou vous recevrez {count} pénalités\",\r\n        \"si vous n'avez pas le courage, {count} pénalités\",\r\n        \"ou vous devrez faire {count} pénalités\",\r\n        \"refuser coûte {count} pénalités\"\r\n      ]\r\n    },\r\n    \r\n    // Dettes\r\n    debts: {\r\n      buttonLabel: \"💸\",\r\n      activeDebtsTitle: \"Dettes actives:\",\r\n      debtDescription: \"Dette assignée pendant le jeu Vérité, Action ou Dette\"\r\n    },\r\n    \r\n    // Messages de log\r\n    logMessages: {\r\n      neonRouletteStats: \"Statistiques Neon Roulette:\",\r\n      redRoomStats: \"Red Room: {count} actions\",\r\n      darkRoomStats: \"Dark Room: {count} actions\",\r\n      coppieStats: \"Couples: {count} actions\",\r\n      partyStats: \"Party: {count} actions\",\r\n      totalStats: \"Total: {count} actions\",\r\n      noActionsInPool: \"Pas d'actions dans le pool, utilisation du fallback\",\r\n      missingSpecialGame: \"Section specialGames.{type} manquante dans backupActions.json!\"\r\n    },\r\n    \r\n    // Textes dynamiques pour Vérité/Action/Dette\r\n    truthDareIntro: \"VÉRITÉ, ACTION OU DETTE: C'est le tour de {player}. Si vous choisissez Dette, vous évitez la pénalité mais une dette vous est assignée qui peut être rachetée à tout moment par celui qui dirige le jeu (ex., \\\"Va me chercher à boire\\\" ou \\\"Poste une histoire embarrassante\\\"). Choisissez une des options!\",\r\n    truthDareNextPlayerIntro: \"VÉRITÉ, ACTION OU DETTE: C'est le tour de {player}. Choisissez une des options!\"\r\n  },\r\n  \r\n  de: {\r\n    // Allgemeine App-Texte\r\n    appName: \"FRIENZ\",\r\n    appDescription: \"Dieser Club wird von einer KI geleitet. Sie wird neue und unerwartete Fragen formulieren.\",\r\n    \r\n    // Buttons und häufige Aktionen\r\n    startButton: \"STARTEN\",\r\n    backButton: \"Zurück\",\r\n    nextButton: \"WEITER\",\r\n    doneButton: \"ERLEDIGT\",\r\n    payButton: \"ZAHLEN\",\r\n    enterButton: \"EINTRETEN\",\r\n    resetButton: \"Zurücksetzen (Nur Test)\",\r\n    startGameButton: \"START\",\r\n    startTimerButton: \"⏱️ TIMER STARTEN\",\r\n    \r\n    // Bildschirmtitel\r\n    playersScreenTitle: \"SPIELER\",\r\n    roomsScreenTitle: \"RÄUME\",\r\n    unlockGameTitle: \"SPIEL FREISCHALTEN\",\r\n    \r\n    // Platzhalter und Labels\r\n    playerInputPlaceholder: \"Spielername eingeben\",\r\n    addPlayerLabel: \"Spieler hinzufügen\",\r\n    \r\n    // Nachrichten\r\n    notEnoughPlayersError: \"Geben Sie mindestens 2 Spieler ein, um zu beginnen!\",\r\n    gameOverMessage: \"SPIEL BEENDET!\",\r\n    actionsCompletedMessage: \"Sie haben {count} Aktionen abgeschlossen!\",\r\n    tapToContinueMessage: \"Tippen Sie, um {action}\",\r\n    returnToRoomsMessage: \"zur Raumauswahl zurückzukehren\",\r\n    unlockMoreGamesMessage: \"mehr Spiele freizuschalten\",\r\n    \r\n    // Sektion für Spielauswahl (jetzt Teil des Spielraums)\r\n    gameSelection: {\r\n      title: \"SPIELE\",\r\n      description: \"Wählen Sie die Spiele aus, die Sie in das Match einbeziehen möchten\",\r\n      continueButton: \"WEITER\",\r\n      selectedGamesTitle: \"AUSGEWÄHLTE SPIELE\",\r\n      selectedGamesDescription: \"Mix der Spiele, die Sie gewählt haben\",\r\n      noGamesSelectedError: \"Wählen Sie mindestens ein Spiel aus, um fortzufahren!\",\r\n      games: {\r\n        truthOrDare: {\r\n          name: \"Wahrheit oder Pflicht\",\r\n          description: \"Das klassische Wahrheit und Pflicht Spiel mit Schuld-Option\"\r\n        },\r\n        wouldYouRather: {\r\n          name: \"Was hättest du lieber\",\r\n          description: \"Schwierige Fragen, bei denen Sie zwischen zwei Optionen wählen müssen\"\r\n        },\r\n        nonHoMai: {\r\n          name: \"Ich habe nie\",\r\n          description: \"Gestehen Sie die Dinge, die Sie getan oder nie getan haben\"\r\n        }\r\n      }\r\n    },\r\n    \r\n    // Paywall-Bildschirm\r\n    freeGameEndedTitle: \"Kostenloses Spiel beendet!\",\r\n    freeGameEndedMessage: \"Sie haben Ihr kostenloses Spiel verwendet. Schalten Sie die App frei, um unbegrenzt mit all Ihren Freunden zu spielen!\",\r\n    purchaseButton: \"KAUFEN\",\r\n    processingPayment: \"VERARBEITUNG...\",\r\n    \r\n    // Timer Challenge\r\n    timerChallenge: {\r\n      timeUp: \"ZEIT IST UM!\",\r\n      timeRemaining: \"Verbleibende Zeit: {seconds}s\",\r\n      startTimer: \"Klicken Sie, um den Timer zu starten!\",\r\n      timerStarted: \"Timer gestartet! Beginnen Sie die Herausforderung!\",\r\n      completed: \"Herausforderung abgeschlossen!\",\r\n      failed: \"Zeit ist um! Zahlen Sie die Strafen!\"\r\n    },\r\n    \r\n    // Zahlungsoptionen\r\n    paymentOptions: [\r\n      { id: 'premium', name: 'Premium', price: '4.99', description: 'Schaltet alle Räume für immer frei' },\r\n      { id: 'prive', name: 'VIP', price: '9.99', description: \"Die KI wird sich an Sie und Ihre Freunde, Ihre Vorlieben, Ihre Ängste erinnern und immer persönlichere Fragen stellen\" }\r\n    ],\r\n    \r\n    // Laden\r\n    loadingMessage: \"Wird geladen...\",\r\n    \r\n    // Räume\r\n    rooms: [\r\n      { \r\n        id: 'party', \r\n        name: 'Party', \r\n        description: 'Lustige Fragen, um die Party zu beleben',\r\n        color: '#2563EB'\r\n      },\r\n      { \r\n        id: 'redRoom', \r\n        name: 'Red Room', \r\n        description: 'Pikante und provokante Fragen',\r\n        color: '#DC2626'\r\n      },\r\n      { \r\n        id: 'darkRoom', \r\n        name: 'Dark Room', \r\n        description: \"Betreten Sie nicht, wenn Sie etwas zu verbergen haben\",\r\n        color: '#1F2937'\r\n      },\r\n      { \r\n        id: 'coppie', \r\n        name: 'Paare', \r\n        description: 'Romantische Fragen und Herausforderungen für Verliebte',\r\n        color: '#EAB308'\r\n      },\r\n      { \r\n        id: 'giochi', \r\n        name: 'Spiele', \r\n        description: 'Wählen und kombinieren Sie verschiedene Mini-Spiele',\r\n        color: '#8B5CF6'\r\n      },\r\n      { \r\n        id: 'neonRoulette', \r\n        name: 'Neon Roulette', \r\n        description: 'Zufällige Mischung aller Modi',\r\n        color: '#D946EF'\r\n      }\r\n    ],\r\n    \r\n    // Spezielle Spiele\r\n    specialGames: {\r\n      pointFinger: \"{player} wählt ein Merkmal aus und alle werden abstimmen...\",\r\n      infamata: \"{player} entscheidet, wem die Frage oder Herausforderung zugewiesen wird...\",\r\n      truthOrDare: {\r\n        choosing: \"{player} muss zwischen Wahrheit, Pflicht oder Schuld wählen!\",\r\n        truth: \"{player} hat Wahrheit gewählt!\",\r\n        dare: \"{player} hat Pflicht gewählt!\",\r\n        debt: \"{player} hat Schuld gewählt!\"\r\n      },\r\n      wouldYouRather: \"{player} stellte die Frage: Was hättest du lieber? Alle müssen abstimmen! Die Minderheit erhält Strafen\",\r\n      questoOQuello: \"{player} hat DIES ODER DAS aktiviert! Alle stimmen ab: Hand heben für die erste Option, unten lassen für die zweite. Die Minderheit erhält 3 Strafen!\",\r\n      chatDetective: \"{player} ist der WhatsApp-Detektiv!\",\r\n      tuttoHaUnPrezzo: \"{player} hat das Spiel ALLES HAT SEINEN PREIS gestartet!\",\r\n      tuttiQuelliChe: \"{player} hat das Spiel ALLE, DIE aktiviert!\",\r\n      penitenzeGruppo: \"{player} hat GRUPPENSTRAFEN aktiviert!\",\r\n      penitenzaRandom: \"{player} hat ZUFÄLLIGE STRAFEN aktiviert!\",\r\n      nonHoMai: \"{player} hat das Spiel ICH HABE NIE gestartet! Nach ihm ist der Spieler zu seiner Rechten an der Reihe, bis alle dran waren.\",\r\n      chiEPiuProbabile: \"{player} hat das Spiel WER WÜRDE AM EHESTEN aktiviert! Alle stimmen gleichzeitig ab, indem sie mit dem Finger zeigen. Wer die meisten Stimmen erhält, bekommt die Strafen!\",\r\n      happyHour: \"{player} hat die HAPPY HOUR aktiviert! Jeder erhält {count} Strafen! 🎉\",\r\n      oneVsOne: \"1V1!\",\r\n      timerChallenge: \"{player} hat ZEITHERAUSFORDERUNGEN aktiviert! Klicken Sie auf den Timer, um die Herausforderung zu starten!\"\r\n    },\r\n    \r\n    // Spezielle Spiele Terminologie\r\n    specialGamesTitles: {\r\n      pointFinger: \"MIT DEM FINGER ZEIGEN\",\r\n      infamata: \"PETZE\",\r\n      truthOrDare: \"WAHRHEIT, PFLICHT ODER SCHULD\",\r\n      wouldYouRather: \"WAS HÄTTEST DU LIEBER\",\r\n      questoOQuello: \"DIES ODER DAS\",\r\n      chatDetective: \"CHAT-DETEKTIV\",\r\n      tuttoHaUnPrezzo: \"ALLES HAT SEINEN PREIS\",\r\n      tuttiQuelliChe: \"ALLE, DIE\",\r\n      penitenzeGruppo: \"GRUPPENSTRAFEN\",\r\n      penitenzaRandom: \"ZUFÄLLIGE STRAFEN\",\r\n      nonHoMai: \"ICH HABE NIE\",\r\n      chiEPiuProbabile: \"WER WÜRDE AM EHESTEN\",\r\n      happyHour: \"HAPPY HOUR\",\r\n      oneVsOne: \"1V1!\",\r\n      timerChallenge: \"ZEITHERAUSFORDERUNGEN\"\r\n    },\r\n    \r\n    // Erklärung des Spiels \"Was hättest du lieber\"\r\n    wouldYouRatherExplanation: \"Alle stimmen ab: Hand heben für die erste Option, unten lassen für die zweite. Wer in der Minderheit ist, erhält Strafen!\",\r\n    \r\n    // Wahrheit oder Pflicht Spieloptionen\r\n    truthDareOptions: {\r\n      selectOption: \"Wählen Sie eine Option:\",\r\n      truth: \"WAHRHEIT\",\r\n      dare: \"PFLICHT\",\r\n      debt: \"SCHULD\",\r\n      debtExplanation: \"Sie haben sich entschieden, eine Schuld zu übernehmen! Die Gruppe wird entscheiden, wann sie eingelöst wird.\",\r\n      chooseOption: \"WÄHLEN SIE EINE OPTION\"\r\n    },\r\n    \r\n    // Fallback\r\n    noActionAvailable: \"Keine Aktion verfügbar\",\r\n    \r\n    // Strafenalternativen\r\n    penaltyAlternatives: {\r\n      questions: [\r\n        \"? Wenn Sie nicht antworten, {count} Strafen\",\r\n        \"? Wenn Sie der Frage ausweichen, {count} Strafen\",\r\n        \"? Schweigen kostet {count} Strafen\"\r\n      ],\r\n      statements: [\r\n        \"wenn Sie sich weigern, {count} Strafen\",\r\n        \"wenn Sie es nicht tun, {count} Strafen\",\r\n        \"ansonsten sind es {count} Strafen\",\r\n        \"oder es sind {count} Strafen\",\r\n        \"oder Sie bekommen {count} Strafen\",\r\n        \"wenn Sie nicht den Mut haben, {count} Strafen\",\r\n        \"oder Sie müssen {count} Strafen machen\",\r\n        \"Weigerung kostet {count} Strafen\"\r\n      ]\r\n    },\r\n    \r\n    // Schulden\r\n    debts: {\r\n      buttonLabel: \"💸\",\r\n      activeDebtsTitle: \"Aktive Schulden:\",\r\n      debtDescription: \"Schuld, die während des Wahrheit, Pflicht oder Schuld-Spiels zugewiesen wurde\"\r\n    },\r\n    \r\n    // Log-Nachrichten\r\n    logMessages: {\r\n      neonRouletteStats: \"Neon Roulette Statistiken:\",\r\n      redRoomStats: \"Red Room: {count} Aktionen\",\r\n      darkRoomStats: \"Dark Room: {count} Aktionen\",\r\n      coppieStats: \"Paare: {count} Aktionen\",\r\n      partyStats: \"Party: {count} Aktionen\",\r\n      totalStats: \"Gesamt: {count} Aktionen\",\r\n      noActionsInPool: \"Keine Aktionen im Pool, verwende Fallback\",\r\n      missingSpecialGame: \"Fehlender specialGames.{type} Abschnitt in backupActions.json!\"\r\n    },\r\n    \r\n    // Dynamische Texte für Wahrheit/Pflicht/Schuld\r\n    truthDareIntro: \"WAHRHEIT, PFLICHT ODER SCHULD: {player} ist an der Reihe. Wenn Sie Schuld wählen, vermeiden Sie die Strafe, aber Ihnen wird eine Schuld zugewiesen, die jederzeit von demjenigen, der das Spiel leitet, eingelöst werden kann (z.B. \\\"Hol mir ein Getränk\\\" oder \\\"Poste eine peinliche Geschichte\\\"). Wählen Sie eine der Optionen!\",\r\n    truthDareNextPlayerIntro: \"WAHRHEIT, PFLICHT ODER SCHULD: {player} ist an der Reihe. Wählen Sie eine der Optionen!\"\r\n  }\r\n};\r\n\r\nexport default translations;","// useSpecialGames.js - Custom hook per gestire i giochi speciali (con supporto modalità giochi)\nimport { useState, useEffect } from 'react';\n\n/**\n * Custom hook per gestire i giochi speciali\n * @param {Object} props - Props passate dal componente principale\n */\nconst useSpecialGames = (props) => {\n  const {\n    t,\n    players,\n    selectedRoom,\n    currentPlayerIndex,\n    actionsCounter,\n    setCurrentAction,\n    loadBackupActions,\n    MAX_ACTIONS_PER_GAME,\n    gameMode,\n    selectedGames\n  } = props;\n\n  // Intervallo minimo di azioni tra un gioco speciale e l'altro\n  const MIN_ACTIONS_BETWEEN_SPECIAL_GAMES = 3; // Ridotto per modalità giochi\n\n  // Stati per i giochi speciali\n  const [activeSpecialGame, setActiveSpecialGame] = useState(null);\n  const [specialGamePlayer, setSpecialGamePlayer] = useState(null);\n  const [specialGamePositions, setSpecialGamePositions] = useState([]);\n  const [specialGamesShown, setSpecialGamesShown] = useState(0);\n  \n  // Stati per gioco 'Truth or Dare'\n  const [truthDarePlayers, setTruthDarePlayers] = useState([]);\n  const [currentTruthDareIndex, setCurrentTruthDareIndex] = useState(0);\n  const [currentTruthDareChoice, setCurrentTruthDareChoice] = useState(null);\n  const [truthDareContent, setTruthDareContent] = useState(null);\n  const [truthDareState, setTruthDareState] = useState(\"choosing\"); // \"choosing\" o \"executing\"\n  \n  // Stati per evitare domande duplicate\n  const [usedTruthQuestions, setUsedTruthQuestions] = useState([]);\n  const [usedDareQuestions, setUsedDareQuestions] = useState([]);\n  \n  // Stati per il gioco \"preferiresti\"\n  const [wouldYouRatherContent, setWouldYouRatherContent] = useState(null);\n  \n  // Stati per il gioco \"Questo o Quello\"\n  const [questoOQuelloContent, setQuestoOQuelloContent] = useState(null);\n  \n  // Stati per timer challenge\n  const [isTimerActive, setIsTimerActive] = useState(false);\n  const [timerSeconds, setTimerSeconds] = useState(20);\n  const [timerChallengeContent, setTimerChallengeContent] = useState(null);\n  \n  // Debiti per Truth or Dare\n  const [debtList, setDebtList] = useState([]);\n  \n  // Inizializza i giochi speciali all'inizio di una nuova partita\n  const initializeSpecialGames = async (roomId) => {\n    console.log(\"=== DEBUG initializeSpecialGames ===\");\n    console.log(\"roomId:\", roomId);\n    console.log(\"gameMode:\", gameMode);\n    console.log(\"selectedGames:\", selectedGames);\n    \n    setActiveSpecialGame(null);\n    setSpecialGamePlayer(null);\n    setTruthDarePlayers([]);\n    setCurrentTruthDareIndex(0);\n    setCurrentTruthDareChoice(null);\n    setTruthDareContent(null);\n    setTruthDareState(\"choosing\");\n    setDebtList([]);\n    setWouldYouRatherContent(null);\n    setQuestoOQuelloContent(null);\n    setIsTimerActive(false);\n    setTimerSeconds(20);\n    setTimerChallengeContent(null);\n    setSpecialGamesShown(0);\n    \n    // Reset delle domande utilizzate\n    setUsedTruthQuestions([]);\n    setUsedDareQuestions([]);\n    \n    // Determina le posizioni in cui dovrebbero apparire i giochi speciali\n    const positions = [];\n    \n    // Se siamo in modalità giochi, usa solo i giochi selezionati\n    if (gameMode === 'games') {\n      const validSpecialGames = getValidSpecialGamesForGameMode();\n      \n      if (validSpecialGames.length === 0) {\n        console.log(\"No games selected for games mode\");\n        setSpecialGamePositions([]);\n        return;\n      }\n      \n      // In modalità giochi, mostriamo i giochi speciali più frequentemente\n      const numSpecialGames = Math.min(20, validSpecialGames.length * 7); // Più giochi speciali\n      \n      // Distribuiamo i giochi speciali in modo più frequente\n      const startPosition = 1; // Iniziamo quasi subito\n      const endPosition = MAX_ACTIONS_PER_GAME - 2;\n      const availableRange = endPosition - startPosition;\n      \n      // Intervallo più piccolo tra i giochi speciali\n      const interval = Math.max(2, Math.floor(availableRange / numSpecialGames));\n      \n      for (let i = 0; i < numSpecialGames; i++) {\n        const basePosition = startPosition + (i * interval);\n        const randomOffset = Math.floor(Math.random() * 2); // Meno randomicità\n        \n        // Cicla attraverso i giochi selezionati\n        const gameType = validSpecialGames[i % validSpecialGames.length];\n        \n        positions.push({\n          position: basePosition + randomOffset,\n          gameType: gameType\n        });\n      }\n    } else {\n      // Logica originale per modalità stanze\n      const validSpecialGames = getValidSpecialGames(roomId);\n      const numSpecialGames = Math.min(10, validSpecialGames.length);\n      \n      const startPosition = 5;\n      const endPosition = MAX_ACTIONS_PER_GAME - 5;\n      const availableRange = endPosition - startPosition;\n      const interval = Math.floor(availableRange / numSpecialGames);\n      const minSpacing = MIN_ACTIONS_BETWEEN_SPECIAL_GAMES;\n      \n      for (let i = 0; i < numSpecialGames; i++) {\n        const basePosition = startPosition + (i * interval);\n        const maxOffset = Math.max(0, Math.min(interval - minSpacing, 3));\n        const randomOffset = Math.floor(Math.random() * maxOffset);\n        \n        positions.push({\n          position: basePosition + randomOffset,\n          gameType: validSpecialGames[i % validSpecialGames.length]\n        });\n      }\n    }\n    \n    console.log(\"Generated special game positions:\", positions);\n    setSpecialGamePositions(positions);\n  };\n  \n  // Ottiene i giochi speciali validi per la modalità giochi\n  const getValidSpecialGamesForGameMode = () => {\n    if (!selectedGames) return [];\n    \n    const validGames = [];\n    \n    if (selectedGames.truthOrDare) {\n      validGames.push(\"truthOrDare\");\n    }\n    \n    if (selectedGames.wouldYouRather) {\n      validGames.push(\"wouldYouRather\");\n    }\n    \n    if (selectedGames.nonHoMai) {\n      validGames.push(\"nonHoMai\");\n    }\n    \n    console.log(\"Valid games for game mode:\", validGames);\n    return validGames;\n  };\n  \n  // Ottiene i giochi speciali validi per la stanza corrente (logica originale)\n  const getValidSpecialGames = (roomId) => {\n    // Default giochi per tutte le stanze\n    const commonGames = [\n      \"truthOrDare\",\n      \"wouldYouRather\",\n      \"questoOQuello\",\n      \"timerChallenge\"\n    ];\n    \n    // Giochi specifici per ogni stanza\n    const roomSpecificGames = {\n      redRoom: [\n        \"infamata\",\n        \"tuttoHaUnPrezzo\",\n        \"tuttiQuelliChe\",\n        \"penitenzaRandom\"\n      ],\n      darkRoom: [\n        \"pointFinger\",\n        \"nonHoMai\",\n        \"chiEPiuProbabile\"\n      ],\n      party: [\n        \"chatDetective\",\n        \"penitenzeGruppo\",\n        \"happyHour\",\n        \"newRule\"\n      ],\n      coppie: [\n        \"oneVsOne\"\n      ],\n      neonRoulette: [\n        \"infamata\",\n        \"pointFinger\",\n        \"chatDetective\",\n        \"tuttoHaUnPrezzo\",\n        \"tuttiQuelliChe\",\n        \"penitenzeGruppo\",\n        \"nonHoMai\",\n        \"chiEPiuProbabile\",\n        \"happyHour\",\n        \"oneVsOne\",\n        \"penitenzaRandom\",\n        \"newRule\"\n      ]\n    };\n    \n    // Combina i giochi comuni con quelli specifici della stanza\n    const validGames = [\n      ...commonGames,\n      ...(roomSpecificGames[roomId] || [])\n    ];\n    \n    // Mescola l'array per avere un ordine casuale\n    return validGames.sort(() => Math.random() - 0.5);\n  };\n  \n  // Verifica se è il momento di mostrare un gioco speciale\n  const shouldShowSpecialGame = (counter, roomId) => {\n    console.log(\"=== DEBUG shouldShowSpecialGame ===\");\n    console.log(\"counter:\", counter);\n    console.log(\"roomId:\", roomId);\n    console.log(\"gameMode:\", gameMode);\n    console.log(\"activeSpecialGame:\", activeSpecialGame);\n    console.log(\"specialGamePositions:\", specialGamePositions);\n    \n    if (!roomId || activeSpecialGame) {\n      console.log(\"Returning false - no roomId or activeSpecialGame already set\");\n      return false;\n    }\n    \n    // Cerca se c'è un gioco speciale programmato per questo contatore\n    const matchingPosition = specialGamePositions.find(\n      pos => pos.position === counter\n    );\n    \n    console.log(\"matchingPosition:\", matchingPosition);\n    \n    return !!matchingPosition;\n  };\n  \n  // Trova il prossimo gioco speciale da mostrare\n  const findNextSpecialGame = (counter, roomId) => {\n    console.log(\"=== DEBUG findNextSpecialGame ===\");\n    console.log(\"counter:\", counter);\n    console.log(\"roomId:\", roomId);\n    console.log(\"gameMode:\", gameMode);\n    \n    if (!roomId) return null;\n    \n    // Cerca se c'è un gioco speciale programmato per questo contatore\n    const matchingPosition = specialGamePositions.find(\n      pos => pos.position === counter\n    );\n    \n    console.log(\"findNextSpecialGame matchingPosition:\", matchingPosition);\n    \n    return matchingPosition ? matchingPosition.gameType : null;\n  };\n\n  // Funzione per gestire l'attivazione di un gioco speciale\n  const handleSpecialGame = async (gameType) => {\n    console.log(\"=== DEBUG handleSpecialGame ===\");\n    console.log(\"gameType:\", gameType);\n    console.log(\"gameMode:\", gameMode);\n    console.log(\"Current activeSpecialGame:\", activeSpecialGame);\n\n    if (activeSpecialGame) {\n      console.log(\"Special game already active, returning\");\n      return;\n    }\n\n    const backupActions = await loadBackupActions();\n\n    if (!backupActions.specialGames || !backupActions.specialGames[gameType]) {\n      console.error(`${t.logMessages.missingSpecialGame.replace('{type}', gameType)}`);\n      return;\n    }\n\n    const randomPlayerIndex = Math.floor(Math.random() * players.length);\n    setSpecialGamePlayer(players[randomPlayerIndex]);\n    setActiveSpecialGame(gameType);\n    setSpecialGamesShown(prev => prev + 1);\n\n    console.log(\"Setting activeSpecialGame to:\", gameType);\n    console.log(\"specialGamePlayer set to:\", players[randomPlayerIndex]);\n\n    switch (gameType) {\n      case \"truthOrDare\":\n        handleTruthOrDareGame(randomPlayerIndex, backupActions);\n        break;\n      \n      case \"wouldYouRather\":\n        handleWouldYouRatherGame(backupActions, randomPlayerIndex);\n        break;\n        \n      case \"questoOQuello\":\n        handleQuestoOQuelloGame(backupActions, randomPlayerIndex);\n        break;\n        \n      case \"timerChallenge\":\n        handleTimerChallengeGame(backupActions, randomPlayerIndex);\n        break;\n        \n      case \"nonHoMai\":\n        handleNonHoMaiGame(backupActions, randomPlayerIndex);\n        break;\n      \n      // NUOVA LOGICA PER I GIOCHI CON CONTENUTO DINAMICO\n      case \"tuttiQuelliChe\":\n      case \"tuttoHaUnPrezzo\":\n      case \"penitenzaRandom\":\n      case \"chiEPiuProbabile\":\n        handleGenericSpecialGameWithContent(gameType, backupActions, randomPlayerIndex);\n        break;\n\n      default:\n        // Logica originale per giochi semplici (es. Infamata, HappyHour)\n        const gameText = backupActions.specialGames[gameType].text;\n        const playerName = players[randomPlayerIndex];\n        const formattedText = gameText.replace(/{player}/g, playerName);\n        const randomCount = Math.floor(Math.random() * 5) + 1;\n        const finalText = formattedText.replace(/{count}/g, randomCount);\n        \n        setCurrentAction({ text: finalText });\n        break;\n    }\n  };\n\n  // NUOVA FUNZIONE HELPER per giochi con contenuto per stanza\n  const handleGenericSpecialGameWithContent = (gameType, backupActions, randomPlayerIndex) => {\n    const roomId = gameMode === 'games' ? 'party' : (selectedRoom?.id || 'party');\n    const gameData = backupActions.specialGames[gameType];\n    const playerName = players[randomPlayerIndex];\n    \n    // Prendi il testo introduttivo\n    const introText = (gameData.text || \"\").replace(/{player}/g, playerName);\n\n    if (gameData && gameData[roomId] && gameData[roomId].length > 0) {\n      // Seleziona un'azione casuale dalla lista della stanza corrente\n      const options = gameData[roomId];\n      const randomIndex = Math.floor(Math.random() * options.length);\n      const selectedContent = options[randomIndex];\n      \n      // Combina l'introduzione con il contenuto specifico\n      setCurrentAction({ \n        text: `${introText}\\n\\n${selectedContent}` \n      });\n    } else {\n      // Fallback: se non ci sono azioni per la stanza, mostra solo l'introduzione\n      console.warn(`No content for game \"${gameType}\" in room \"${roomId}\".`);\n      setCurrentAction({ text: introText });\n    }\n  };\n  \n  // Funzione per gestire il gioco \"Truth or Dare\"\n  const handleTruthOrDareGame = (playerIndex, backupActions) => {\n    console.log(\"=== DEBUG handleTruthOrDareGame ===\");\n    console.log(\"playerIndex:\", playerIndex);\n    \n    // Seleziona tutti i giocatori nell'ordine in cui giocheranno\n    const allPlayers = [...players];\n    const startIndex = playerIndex;\n    \n    // Organizziamo i giocatori in ordine, a partire dal giocatore selezionato\n    const orderedPlayers = [\n      ...allPlayers.slice(startIndex),\n      ...allPlayers.slice(0, startIndex)\n    ];\n    \n    // Imposta l'elenco dei giocatori per Truth or Dare\n    setTruthDarePlayers(orderedPlayers);\n    setCurrentTruthDareIndex(0);\n    setCurrentTruthDareChoice(null);\n    setTruthDareContent(null);\n    setTruthDareState(\"choosing\");\n    \n    // Reset delle domande utilizzate quando inizia un nuovo gioco Truth or Dare\n    setUsedTruthQuestions([]);\n    setUsedDareQuestions([]);\n    \n    console.log(\"truthDarePlayers set to:\", orderedPlayers);\n    console.log(\"Reset used questions arrays\");\n    \n    // Ottieni il testo introduttivo dal file di backup o usa uno predefinito\n    const introText = t.truthDareIntro.replace('{player}', orderedPlayers[0]);\n    \n    // Imposta l'azione corrente\n    setCurrentAction({ text: introText });\n  };\n  \n  // Funzione per gestire il gioco \"Non ho mai\"\n  const handleNonHoMaiGame = (backupActions, randomPlayerIndex) => {\n    // Usa il testo dal backup actions o da specialGames\n    const gameText = t.specialGames.nonHoMai;\n    const playerName = players[randomPlayerIndex];\n    const formattedText = gameText.replace(/{player}/g, playerName);\n    \n    // Imposta l'azione corrente\n    setCurrentAction({ text: formattedText });\n  };\n  \n  // Funzione helper per selezionare una domanda non utilizzata\n  const selectUnusedQuestion = (allOptions, usedQuestions) => {\n    console.log(\"=== DEBUG selectUnusedQuestion ===\");\n    console.log(\"Total options:\", allOptions.length);\n    console.log(\"Used questions:\", usedQuestions.length);\n    \n    // Filtra le opzioni escludendo quelle già utilizzate\n    const availableOptions = allOptions.filter(option => \n      !usedQuestions.includes(option)\n    );\n    \n    console.log(\"Available options:\", availableOptions.length);\n    \n    // Se tutte le domande sono state utilizzate, resetta l'array e usa tutte le opzioni\n    if (availableOptions.length === 0) {\n      console.log(\"All questions used, resetting...\");\n      return {\n        selectedContent: allOptions[Math.floor(Math.random() * allOptions.length)],\n        shouldResetUsedList: true\n      };\n    }\n    \n    // Seleziona una domanda casuale tra quelle disponibili\n    const randomIndex = Math.floor(Math.random() * availableOptions.length);\n    const selectedContent = availableOptions[randomIndex];\n    \n    console.log(\"Selected question:\", selectedContent.substring(0, 50) + \"...\");\n    \n    return {\n      selectedContent,\n      shouldResetUsedList: false\n    };\n  };\n  \n  // Funzione per gestire la scelta in Truth or Dare\n  const handleTruthDareChoice = async (choice) => {\n    console.log(\"=== DEBUG handleTruthDareChoice ===\");\n    console.log(\"choice:\", choice);\n    console.log(\"currentTruthDareIndex:\", currentTruthDareIndex);\n    \n    setCurrentTruthDareChoice(choice);\n    setTruthDareState(\"executing\");\n    \n    // Carica il file backupActions nella lingua corrente\n    const backupActions = await loadBackupActions();\n    \n    // Se la scelta è \"debt\", gestisci un debito\n    if (choice === \"debt\") {\n      // Aggiungi il giocatore alla lista dei debiti\n      const currentPlayer = truthDarePlayers[currentTruthDareIndex];\n      \n      // Aggiungi un nuovo debito alla lista\n      setDebtList(prev => [\n        ...prev,\n        {\n          player: currentPlayer,\n          description: t.debts.debtDescription,\n          status: 'active',\n          createdAt: new Date().toISOString()\n        }\n      ]);\n      \n      // Imposta un messaggio specifico per il debito\n      setTruthDareContent(t.truthDareOptions.debtExplanation);\n      \n      // Aggiorna l'azione corrente per riflettere la scelta\n      const debtText = t.specialGames.truthOrDare.debt.replace('{player}', currentPlayer);\n      setCurrentAction({ text: debtText });\n      \n      return;\n    }\n    \n    // Altrimenti, gestisci truth o dare\n    // In modalità giochi usa sempre 'party' come fallback\n    const selectedRoomId = gameMode === 'games' ? 'party' : (selectedRoom?.id || 'party');\n    \n    // Verifica se la stanza corrente ha contenuti truth/dare specifici\n    if (backupActions.truthDareGame && \n        backupActions.truthDareGame[choice] && \n        backupActions.truthDareGame[choice][selectedRoomId]) {\n      \n      // Seleziona una domanda evitando duplicati\n      const allOptions = backupActions.truthDareGame[choice][selectedRoomId];\n      const currentUsedQuestions = choice === \"truth\" ? usedTruthQuestions : usedDareQuestions;\n      \n      const { selectedContent, shouldResetUsedList } = selectUnusedQuestion(allOptions, currentUsedQuestions);\n      \n      // Aggiorna l'array delle domande utilizzate\n      if (choice === \"truth\") {\n        if (shouldResetUsedList) {\n          setUsedTruthQuestions([selectedContent]);\n        } else {\n          setUsedTruthQuestions(prev => [...prev, selectedContent]);\n        }\n      } else {\n        if (shouldResetUsedList) {\n          setUsedDareQuestions([selectedContent]);\n        } else {\n          setUsedDareQuestions(prev => [...prev, selectedContent]);\n        }\n      }\n      \n      // Imposta il contenuto scelto\n      setTruthDareContent(selectedContent);\n      \n      // Aggiorna l'azione corrente per riflettere la scelta\n      const choiceText = choice === \"truth\" \n        ? t.specialGames.truthOrDare.truth\n        : t.specialGames.truthOrDare.dare;\n      \n      const currentPlayer = truthDarePlayers[currentTruthDareIndex];\n      const formattedText = choiceText.replace('{player}', currentPlayer);\n      setCurrentAction({ text: formattedText });\n    } else {\n      // Fallback se non ci sono contenuti specifici per la stanza\n      setTruthDareContent(\"Contenuto non disponibile per questa stanza\");\n    }\n  };\n  \n  // Funzione per gestire il gioco \"Preferiresti\"\n  const handleWouldYouRatherGame = (backupActions, randomPlayerIndex) => {\n    // Verifica se ci sono domande disponibili per la stanza corrente\n    // In modalità giochi usa sempre 'party' come fallback\n    const roomId = gameMode === 'games' ? 'party' : (selectedRoom?.id || 'party');\n    \n    if (backupActions.wouldYouRather && \n        backupActions.wouldYouRather[roomId]) {\n      \n      // Seleziona una domanda casuale per la stanza corrente\n      const options = backupActions.wouldYouRather[roomId];\n      const randomIndex = Math.floor(Math.random() * options.length);\n      const selectedContent = options[randomIndex].text;\n      \n      // Imposta il contenuto selezionato\n      setWouldYouRatherContent(selectedContent);\n      \n      // Ottieni il messaggio per il gioco \"Preferiresti\"\n      const playerName = players[randomPlayerIndex];\n      let gameText = t.specialGames.wouldYouRather.replace('{player}', playerName);\n      \n      // Imposta l'azione corrente\n      setCurrentAction({ \n        text: `${gameText}\\n\\n${selectedContent}\\n\\n${t.wouldYouRatherExplanation}` \n      });\n    } else {\n      // Fallback se non ci sono domande per questa stanza\n      setWouldYouRatherContent(\"Domanda non disponibile per questa stanza\");\n      setCurrentAction({ text: t.specialGames.wouldYouRather.replace('{player}', players[randomPlayerIndex]) });\n    }\n  };\n  \n  // Funzione per gestire il gioco \"Questo o Quello\"\n  const handleQuestoOQuelloGame = (backupActions, randomPlayerIndex) => {\n    // Verifica se ci sono domande disponibili per la stanza corrente\n    const roomId = gameMode === 'games' ? 'party' : (selectedRoom?.id || 'party');\n    \n    if (backupActions.specialGames && \n        backupActions.specialGames.questoOQuello &&\n        backupActions.specialGames.questoOQuello[roomId]) {\n      \n      // Seleziona una domanda casuale per la stanza corrente\n      const options = backupActions.specialGames.questoOQuello[roomId];\n      const randomIndex = Math.floor(Math.random() * options.length);\n      const selectedContent = options[randomIndex];\n      \n      // Imposta il contenuto selezionato\n      setQuestoOQuelloContent(selectedContent);\n      \n      // Ottieni il messaggio introduttivo dal file di backup\n      const introText = backupActions.specialGames.questoOQuello.text || \"QUESTO o QUELLO!\";\n      \n      // Sostituisci {player} con il nome del giocatore selezionato casualmente\n      const playerName = players[randomPlayerIndex];\n      const formattedText = introText.replace(/{player}/g, playerName);\n      \n      // Imposta l'azione corrente\n      setCurrentAction({ \n        text: `${formattedText}\\n\\n${selectedContent}` \n      });\n    } else {\n      // Fallback se non ci sono domande per questa stanza\n      const introText = backupActions.specialGames.questoOQuello.text || \"QUESTO o QUELLO!\";\n      const playerName = players[randomPlayerIndex];\n      const formattedText = introText.replace(/{player}/g, playerName);\n      \n      setQuestoOQuelloContent(\"Domanda non disponibile per questa stanza\");\n      setCurrentAction({ text: formattedText });\n    }\n  };\n  \n  // Funzione per gestire il gioco \"Timer Challenge\"\n  const handleTimerChallengeGame = (backupActions, randomPlayerIndex) => {\n    // Verifica se ci sono sfide disponibili per la stanza corrente\n    const roomId = gameMode === 'games' ? 'party' : (selectedRoom?.id || 'party');\n    \n    if (backupActions.specialGames && \n        backupActions.specialGames.timerChallenge &&\n        backupActions.specialGames.timerChallenge[roomId]) {\n      \n      // Seleziona una sfida casuale per la stanza corrente\n      const options = backupActions.specialGames.timerChallenge[roomId];\n      const randomIndex = Math.floor(Math.random() * options.length);\n      const selectedContent = options[randomIndex];\n      \n      // Imposta il contenuto selezionato\n      setTimerChallengeContent(selectedContent);\n      setIsTimerActive(false);\n      setTimerSeconds(20);\n      \n      // Ottieni il messaggio introduttivo dal file di backup\n      const introText = backupActions.specialGames.timerChallenge.text;\n      \n      // Sostituisci {player} con il nome del giocatore selezionato casualmente\n      const playerName = players[randomPlayerIndex];\n      const formattedText = introText.replace(/{player}/g, playerName);\n      \n      // Imposta l'azione corrente\n      setCurrentAction({ text: formattedText });\n    } else {\n      // Fallback se non ci sono sfide per questa stanza\n      setTimerChallengeContent(\"Sfida non disponibile per questa stanza\");\n      const fallbackText = t.specialGames.timerChallenge.replace('{player}', players[randomPlayerIndex]);\n      setCurrentAction({ text: fallbackText });\n    }\n  };\n  \n  // Funzione per avviare il timer\n  const startTimer = () => {\n    setIsTimerActive(true);\n    setTimerSeconds(20);\n    \n    // Avvia il timer\n    const timer = setInterval(() => {\n      setTimerSeconds(prevSeconds => {\n        if (prevSeconds <= 1) {\n          clearInterval(timer);\n          setIsTimerActive(false);\n          return 0;\n        }\n        return prevSeconds - 1;\n      });\n    }, 1000);\n  };\n  \n  // Funzione per ottenere un messaggio appropriato per il gioco speciale attivo\n  const getSpecialGameMessage = () => {\n    if (!activeSpecialGame) return \"\";\n    \n    switch (activeSpecialGame) {\n      case \"truthOrDare\":\n        if (truthDareState === \"choosing\") {\n          return t.specialGames.truthOrDare.choosing.replace('{player}', truthDarePlayers[currentTruthDareIndex]);\n        } else {\n          return currentTruthDareChoice === \"truth\" \n            ? t.specialGames.truthOrDare.truth.replace('{player}', truthDarePlayers[currentTruthDareIndex])\n            : currentTruthDareChoice === \"dare\"\n              ? t.specialGames.truthOrDare.dare.replace('{player}', truthDarePlayers[currentTruthDareIndex])\n              : t.specialGames.truthOrDare.debt.replace('{player}', truthDarePlayers[currentTruthDareIndex]);\n        }\n        \n      case \"wouldYouRather\":\n        return t.specialGames.wouldYouRather.replace('{player}', specialGamePlayer);\n        \n      case \"questoOQuello\":\n        return t.specialGames.questoOQuello.replace('{player}', specialGamePlayer);\n        \n      case \"timerChallenge\":\n        return t.specialGames.timerChallenge.replace('{player}', specialGamePlayer);\n        \n      case \"nonHoMai\":\n        return t.specialGames.nonHoMai.replace('{player}', specialGamePlayer);\n        \n      default:\n        if (t.specialGames[activeSpecialGame]) {\n          // Usa il testo principale se disponibile (es. da `specialGames.tuttiQuelliChe.text`)\n          const gameInfo = t.specialGames[activeSpecialGame];\n          if (typeof gameInfo === 'string') {\n              return gameInfo.replace('{player}', specialGamePlayer);\n          } else if (typeof gameInfo === 'object' && gameInfo.text) {\n              return gameInfo.text.replace('{player}', specialGamePlayer);\n          }\n        }\n        return \"\";\n    }\n  };\n  \n  // Passa al turno successivo dopo un gioco speciale\n  const nextTurnAfterSpecialGame = (nextTurnCallback) => {\n    console.log(\"=== DEBUG nextTurnAfterSpecialGame ===\");\n    console.log(\"Current activeSpecialGame:\", activeSpecialGame);\n    console.log(\"truthDareState:\", truthDareState);\n    console.log(\"currentTruthDareIndex:\", currentTruthDareIndex);\n    console.log(\"truthDarePlayers length:\", truthDarePlayers.length);\n    console.log(\"gameMode:\", gameMode);\n    \n    // Logica specifica per ogni tipo di gioco\n    if (activeSpecialGame === \"truthOrDare\") {\n      // In modalità giochi, Truth or Dare non gira tra tutti i giocatori\n      // ma fa solo una domanda per volta\n      if (gameMode === 'games') {\n        console.log(\"Games mode - ending truth or dare after one question\");\n        // Termina subito il gioco speciale - il reset avverrà dopo\n      } else {\n        // Modalità stanze - comportamento originale\n        if (currentTruthDareIndex < truthDarePlayers.length - 1) {\n          console.log(\"Moving to next truth/dare player\");\n          // Passa al giocatore successivo\n          setCurrentTruthDareIndex(prev => prev + 1);\n          setCurrentTruthDareChoice(null);\n          setTruthDareContent(null);\n          setTruthDareState(\"choosing\");\n          \n          // Aggiorna il messaggio per il prossimo giocatore\n          const nextPlayer = truthDarePlayers[currentTruthDareIndex + 1];\n          const nextIntroText = t.truthDareNextPlayerIntro.replace('{player}', nextPlayer);\n          setCurrentAction({ text: nextIntroText });\n          \n          return;\n        }\n      }\n    }\n    \n    console.log(\"Ending special game, resetting states\");\n    \n    // Per tutti gli altri giochi speciali o per terminare Truth or Dare\n    setActiveSpecialGame(null);\n    setSpecialGamePlayer(null);\n    setCurrentTruthDareChoice(null);\n    setTruthDareContent(null);\n    setTruthDareState(\"choosing\");\n    setWouldYouRatherContent(null);\n    setQuestoOQuelloContent(null);\n    setIsTimerActive(false);\n    setTimerSeconds(20);\n    setTimerChallengeContent(null);\n    \n    // Reset delle domande utilizzate quando il gioco Truth or Dare finisce completamente\n    if (activeSpecialGame === \"truthOrDare\") {\n      setUsedTruthQuestions([]);\n      setUsedDareQuestions([]);\n      console.log(\"Reset used questions arrays after Truth or Dare game ended\");\n    }\n    \n    console.log(\"Calling nextTurnCallback with true\");\n    \n    // Passa al turno successivo utilizzando il callback fornito\n    if (nextTurnCallback) {\n      nextTurnCallback(true);\n    }\n  };\n  \n  return {\n    // Costanti\n    MIN_ACTIONS_BETWEEN_SPECIAL_GAMES,\n    \n    // Stati dei giochi speciali\n    activeSpecialGame,\n    specialGamePlayer,\n    debtList,\n    truthDarePlayers,\n    currentTruthDareChoice,\n    truthDareContent,\n    truthDareState,\n    wouldYouRatherContent,\n    questoOQuelloContent,\n    isTimerActive,\n    timerSeconds,\n    timerChallengeContent,\n    specialGamePositions,\n    \n    // Stati per domande utilizzate (per debug se necessario)\n    usedTruthQuestions,\n    usedDareQuestions,\n    \n    // Funzioni\n    initializeSpecialGames,\n    shouldShowSpecialGame,\n    findNextSpecialGame,\n    handleSpecialGame,\n    handleTruthDareChoice,\n    getSpecialGameMessage,\n    nextTurnAfterSpecialGame,\n    startTimer\n  };\n};\n\nexport default useSpecialGames;","// useGameLogic.js - Custom hook per gestire lo stato e la logica del gioco\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport translations from './translations';\r\nimport useSpecialGames from './useSpecialGames';\r\n\r\n/**\r\n * Custom hook per gestire tutta la logica e lo stato del gioco\r\n */\r\nconst useGameLogic = () => {\r\n  // Stato per la lingua selezionata (default: italiano)\r\n  const [language, setLanguage] = useState('it');\r\n  // Riferimento alle traduzioni nella lingua corrente\r\n  const t = translations[language];\r\n  \r\n  // Game states: 'welcome', 'gameSelection', 'playerSetup', 'roomSelection', 'playing', 'gameOver', 'paywall', 'languageSelection'\r\n  const [gameState, setGameState] = useState('welcome');\r\n  const [players, setPlayers] = useState([]);\r\n  const [inputPlayers, setInputPlayers] = useState([{ id: 1, name: '' }]);\r\n  const [currentPlayerIndex, setCurrentPlayerIndex] = useState(0);\r\n  const [currentAction, setCurrentAction] = useState(null);\r\n  const [selectedRoom, setSelectedRoom] = useState(null);\r\n  const [previousAction, setPreviousAction] = useState(null);\r\n  \r\n  // Stati per la selezione giochi (usati quando si entra nella stanza \"giochi\")\r\n  const [selectedGames, setSelectedGames] = useState({\r\n    truthOrDare: false,\r\n    wouldYouRather: false,\r\n    nonHoMai: false\r\n  });\r\n  \r\n  // Contatore per le azioni giocate in una partita (nascosto dall'UI)\r\n  const [actionsCounter, setActionsCounter] = useState(0);\r\n  // Costante per il numero massimo di azioni per partita\r\n  const MAX_ACTIONS_PER_GAME = 50;\r\n  \r\n  // State for the loading\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [loadingProgress, setLoadingProgress] = useState(0);\r\n  \r\n  // State for selected room index (for swiper)\r\n  const [currentRoomIndex, setCurrentRoomIndex] = useState(0);\r\n  \r\n  // Generated actions for each room\r\n  const [roomActionsPool, setRoomActionsPool] = useState({\r\n    redRoom: [],\r\n    darkRoom: [],\r\n    coppie: [],\r\n    party: [],\r\n    giochi: [], // Nuovo pool per la stanza giochi\r\n    neonRoulette: []\r\n  });\r\n  \r\n  // Current index for tracking which action to use from the pool\r\n  const [currentActionIndex, setCurrentActionIndex] = useState({\r\n    redRoom: 0,\r\n    darkRoom: 0,\r\n    coppie: 0,\r\n    party: 0,\r\n    giochi: 0,\r\n    neonRoulette: 0\r\n  });\r\n  \r\n  // Stato per le azioni di gruppo\r\n  const [groupActionsPool, setGroupActionsPool] = useState([]);\r\n  // Indici per quando devono apparire le azioni di gruppo\r\n  const [groupActionPositions, setGroupActionPositions] = useState([]);\r\n  // Contatore per le azioni di gruppo mostrate\r\n  const [groupActionsShown, setGroupActionsShown] = useState(0);\r\n  \r\n  // Nuovi stati per il paywall\r\n  const [hasPlayedFreeGame, setHasPlayedFreeGame] = useState(false);\r\n  const [hasPaid, setHasPaid] = useState(false);\r\n  const [selectedPaymentOption, setSelectedPaymentOption] = useState(null);\r\n  const [isProcessingPayment, setIsProcessingPayment] = useState(false);\r\n  \r\n  // Flag per controllare se è stata caricata la prima azione\r\n  const [isFirstActionLoaded, setIsFirstActionLoaded] = useState(false);\r\n  \r\n  // Inizializza lo hook per i giochi speciali\r\n  const specialGames = useSpecialGames({\r\n    t,\r\n    players,\r\n    selectedRoom,\r\n    currentPlayerIndex,\r\n    actionsCounter,\r\n    setCurrentAction,\r\n    loadBackupActions,\r\n    MAX_ACTIONS_PER_GAME,\r\n    gameMode: selectedRoom?.id === 'giochi' ? 'games' : 'rooms',\r\n    selectedGames\r\n  });\r\n  \r\n  // Verifica lo stato del paywall quando il componente si monta\r\n  useEffect(() => {\r\n    // Recupera lo stato del pagamento da localStorage\r\n    const storedHasPaid = localStorage.getItem('hasPaid') === 'true';\r\n    const storedHasPlayedFreeGame = localStorage.getItem('hasPlayedFreeGame') === 'true';\r\n    const storedLanguage = localStorage.getItem('language');\r\n    \r\n    if (storedHasPaid) {\r\n      setHasPaid(true);\r\n    }\r\n    \r\n    if (storedHasPlayedFreeGame) {\r\n      setHasPlayedFreeGame(true);\r\n    }\r\n    \r\n    if (storedLanguage && translations[storedLanguage]) {\r\n      setLanguage(storedLanguage);\r\n    }\r\n  }, []);\r\n  \r\n  // Effetto per caricare la prima domanda quando lo stato è 'playing'\r\n  useEffect(() => {\r\n    if (gameState === 'playing' && selectedRoom && !isFirstActionLoaded) {\r\n      console.log(\"=== DEBUG useEffect for first action ===\");\r\n      console.log(\"gameState:\", gameState);\r\n      console.log(\"selectedRoom:\", selectedRoom?.id);\r\n      console.log(\"isFirstActionLoaded:\", isFirstActionLoaded);\r\n      \r\n      const poolKey = selectedRoom.id;\r\n      console.log(\"poolKey:\", poolKey);\r\n      console.log(\"roomActionsPool for key:\", roomActionsPool[poolKey]?.length);\r\n      \r\n      // Verifica che il pool di azioni sia caricato prima di procedere\r\n      if (roomActionsPool[poolKey] && roomActionsPool[poolKey].length > 0) {\r\n        console.log(\"Pool is ready, loading first action\");\r\n        setTimeout(() => {\r\n          updateCurrentAction();\r\n          setIsFirstActionLoaded(true);\r\n        }, 100);\r\n      } else {\r\n        console.log(\"Pool not ready yet, waiting...\");\r\n        // Se il pool non è ancora pronto, riprova dopo un breve delay\r\n        const retryTimeout = setTimeout(() => {\r\n          if (roomActionsPool[poolKey] && roomActionsPool[poolKey].length > 0) {\r\n            console.log(\"Pool ready on retry, loading first action\");\r\n            updateCurrentAction();\r\n            setIsFirstActionLoaded(true);\r\n          }\r\n        }, 300);\r\n        \r\n        return () => clearTimeout(retryTimeout);\r\n      }\r\n    }\r\n  }, [gameState, selectedRoom, isFirstActionLoaded, roomActionsPool]);\r\n  \r\n  // Funzione per cambiare la lingua dell'app\r\n  const changeLanguage = (newLanguage) => {\r\n    if (translations[newLanguage]) {\r\n      setLanguage(newLanguage);\r\n      localStorage.setItem('language', newLanguage);\r\n      \r\n      // Se si stava visualizzando una stanza, aggiorna la selezione\r\n      if (selectedRoom && currentRoomIndex >= 0) {\r\n        // Trova l'indice della stanza con lo stesso ID nella nuova lingua\r\n        const roomId = selectedRoom.id;\r\n        const newRooms = translations[newLanguage].rooms;\r\n        const newRoomIndex = newRooms.findIndex(room => room.id === roomId);\r\n        \r\n        if (newRoomIndex >= 0) {\r\n          setCurrentRoomIndex(newRoomIndex);\r\n          setSelectedRoom(newRooms[newRoomIndex]);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  \r\n  // Funzione per aprire il selettore di lingua\r\n  const openLanguageSelector = () => {\r\n    setGameState('languageSelection');\r\n  };\r\n  \r\n  // Mostra la schermata di setup giocatori\r\n  const enterPlayerSetup = () => {\r\n    // Verifica se l'utente ha già giocato la partita gratuita e non ha pagato\r\n    if (hasPlayedFreeGame && !hasPaid) {\r\n      setGameState('paywall');\r\n    } else {\r\n      setGameState('playerSetup');\r\n    }\r\n  };\r\n  \r\n  // Funzioni per gestire la selezione dei giochi (per la stanza \"giochi\")\r\n  const toggleGameSelection = (gameType) => {\r\n    setSelectedGames(prev => ({\r\n      ...prev,\r\n      [gameType]: !prev[gameType]\r\n    }));\r\n  };\r\n  \r\n  const proceedWithSelectedGames = () => {\r\n    // Verifica che almeno un gioco sia selezionato\r\n    const hasSelectedGames = Object.values(selectedGames).some(selected => selected);\r\n    \r\n    if (!hasSelectedGames) {\r\n      alert(t.gameSelection.noGamesSelectedError);\r\n      return;\r\n    }\r\n    \r\n    // Avvia la modalità giochi con i giochi selezionati\r\n    startGamesMode();\r\n  };\r\n  \r\n  // Aggiunge un nuovo input box per un giocatore\r\n  const addPlayerInput = () => {\r\n    if (inputPlayers.length < 15) {\r\n      const newId = inputPlayers.length > 0 \r\n        ? Math.max(...inputPlayers.map(p => p.id)) + 1 \r\n        : 1;\r\n      setInputPlayers([...inputPlayers, { id: newId, name: '' }]);\r\n    }\r\n  };\r\n  \r\n  // Aggiorna il nome di un giocatore negli input\r\n  const updatePlayerName = (id, name) => {\r\n    setInputPlayers(\r\n      inputPlayers.map(input => \r\n        input.id === id ? { ...input, name } : input\r\n      )\r\n    );\r\n  };\r\n  \r\n  // Rimuove un input di giocatore\r\n  const removePlayerInput = (id) => {\r\n    if (inputPlayers.length > 1) {\r\n      setInputPlayers(inputPlayers.filter(input => input.id !== id));\r\n    }\r\n  };\r\n  \r\n  // Avvia una nuova partita\r\n  const startGame = () => {\r\n    // Verifica che ci siano almeno 2 giocatori validi\r\n    const validPlayers = inputPlayers\r\n      .filter(input => input.name.trim() !== '')\r\n      .map(input => input.name.trim());\r\n    \r\n    if (validPlayers.length < 2) {\r\n      alert(t.notEnoughPlayersError);\r\n      return;\r\n    }\r\n    \r\n    setPlayers(validPlayers);\r\n    \r\n    // Vai alla selezione stanze\r\n    setGameState('roomSelection');\r\n  };\r\n  \r\n  // Avvia la modalità giochi selezionati\r\n  const startGamesMode = async () => {\r\n    console.log(\"=== DEBUG startGamesMode ===\");\r\n    console.log(\"selectedGames:\", selectedGames);\r\n    \r\n    setIsLoading(true);\r\n    setIsFirstActionLoaded(false);\r\n    \r\n    try {\r\n      // Simulazione caricamento\r\n      for (let i = 0; i <= 100; i += 10) {\r\n        setLoadingProgress(i);\r\n        await new Promise(resolve => setTimeout(resolve, 100));\r\n      }\r\n      \r\n      // Resetta il contatore delle azioni\r\n      setActionsCounter(0);\r\n      \r\n      // Inizializza gli stati per i giochi speciali\r\n      specialGames.initializeSpecialGames('giochi');\r\n      \r\n      // Prepara il pool di azioni per la modalità giochi\r\n      await prepareGamesPool();\r\n      \r\n      // Resetta l'indice delle azioni\r\n      setCurrentActionIndex(prev => ({\r\n        ...prev,\r\n        giochi: 0\r\n      }));\r\n      \r\n      // Resetta l'azione precedente\r\n      setPreviousAction(null);\r\n      \r\n      // Seleziona un giocatore casuale per iniziare\r\n      const randomPlayerIndex = Math.floor(Math.random() * players.length);\r\n      setCurrentPlayerIndex(randomPlayerIndex);\r\n      \r\n      // Attendiamo un momento per assicurarci che gli stati siano aggiornati\r\n      await new Promise(resolve => setTimeout(resolve, 100));\r\n      \r\n      // Vai alla schermata di gioco\r\n      setGameState('playing');\r\n      \r\n      // Carica immediatamente la prima azione\r\n      setTimeout(() => {\r\n        console.log(\"=== Loading first action for games mode ===\");\r\n        updateCurrentAction();\r\n        setIsFirstActionLoaded(true);\r\n      }, 200);\r\n      \r\n    } catch (error) {\r\n      console.error('Errore nell\\'avvio modalità giochi:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Prepara il pool di azioni per la modalità giochi\r\n  const prepareGamesPool = async () => {\r\n    const backupActions = await loadBackupActions();\r\n    const gamesPool = [];\r\n    \r\n    // Conta quanti giochi sono selezionati\r\n    const selectedGamesCount = Object.values(selectedGames).filter(selected => selected).length;\r\n    \r\n    console.log(\"Games mode - adding ONLY selected games\");\r\n    \r\n    // Calcola quante istanze di ogni gioco aggiungere per riempire la partita\r\n    const totalInstances = 50; // Abbastanza per una lunga partita\r\n    const instancesPerGame = Math.floor(totalInstances / selectedGamesCount);\r\n    const extraInstances = totalInstances % selectedGamesCount;\r\n    \r\n    let gameIndex = 0;\r\n    \r\n    if (selectedGames.truthOrDare) {\r\n      const instances = instancesPerGame + (gameIndex < extraInstances ? 1 : 0);\r\n      for (let i = 0; i < instances; i++) {\r\n        gamesPool.push({ text: \"SPECIAL_GAME:truthOrDare\" });\r\n      }\r\n      gameIndex++;\r\n    }\r\n    \r\n    if (selectedGames.wouldYouRather) {\r\n      const instances = instancesPerGame + (gameIndex < extraInstances ? 1 : 0);\r\n      for (let i = 0; i < instances; i++) {\r\n        gamesPool.push({ text: \"SPECIAL_GAME:wouldYouRather\" });\r\n      }\r\n      gameIndex++;\r\n    }\r\n    \r\n    if (selectedGames.nonHoMai) {\r\n      const instances = instancesPerGame + (gameIndex < extraInstances ? 1 : 0);\r\n      for (let i = 0; i < instances; i++) {\r\n        gamesPool.push({ text: \"SPECIAL_GAME:nonHoMai\" });\r\n      }\r\n      gameIndex++;\r\n    }\r\n    \r\n    // Mescola il pool per randomizzare l'ordine dei giochi\r\n    const finalPool = gamesPool.sort(() => Math.random() - 0.5);\r\n    \r\n    // Aggiorna il pool\r\n    setRoomActionsPool(prev => ({\r\n      ...prev,\r\n      giochi: finalPool\r\n    }));\r\n    \r\n    console.log(\"Games pool prepared with\", finalPool.length, \"actions\");\r\n    console.log(\"Selected games count:\", selectedGamesCount);\r\n    console.log(\"Special games instances:\", finalPool.filter(a => a.text.startsWith(\"SPECIAL_GAME:\")).length);\r\n    console.log(\"Normal actions:\", finalPool.filter(a => !a.text.startsWith(\"SPECIAL_GAME:\")).length);\r\n  };\r\n  \r\n  // Gestisce il tasto Enter negli input dei giocatori\r\n  const handleKeyPress = (e, id, index) => {\r\n    if (e.key === 'Enter') {\r\n      if (index === inputPlayers.length - 1) {\r\n        // Se siamo sull'ultimo input, aggiungiamo un nuovo campo\r\n        addPlayerInput();\r\n      } else {\r\n        // Altrimenti spostiamo il focus al campo successivo\r\n        const nextInput = document.getElementById(`player-input-${index + 1}`);\r\n        if (nextInput) nextInput.focus();\r\n      }\r\n    }\r\n  };\r\n  \r\n  // Carica il file backupActions nella lingua corrente\r\n  async function loadBackupActions() {\r\n    try {\r\n      // Determina il nome del file in base alla lingua corrente\r\n      const backupActionsFileName = `backupActions_${language}.json`;\r\n      let backupActionsModule;\r\n      \r\n      // Prima tenta di caricare dalla cartella actions\r\n      try {\r\n        // Importa il file dalla cartella actions\r\n        backupActionsModule = await import(`./actions/${backupActionsFileName}`);\r\n        console.log(`Caricato con successo: ./actions/${backupActionsFileName}`);\r\n        return backupActionsModule.default;\r\n      } catch (error) {\r\n        console.warn(`Errore nel caricamento di ./actions/${backupActionsFileName}:`, error);\r\n        \r\n        // Se non riesce, prova con la lingua inglese come fallback\r\n        try {\r\n          backupActionsModule = await import('./actions/backupActions_en.json');\r\n          console.log('Fallback: Caricato backupActions_en.json');\r\n          return backupActionsModule.default;\r\n        } catch (enError) {\r\n          console.warn('Errore nel caricamento del fallback inglese:', enError);\r\n          \r\n          // Ultimo tentativo: italiano\r\n          try {\r\n            backupActionsModule = await import('./actions/backupActions_it.json');\r\n            console.log('Fallback: Caricato backupActions_it.json');\r\n            return backupActionsModule.default;\r\n          } catch (itError) {\r\n            console.error('Impossibile caricare qualsiasi file di backup:', itError);\r\n            return {}; // Restituisce un oggetto vuoto se tutti i tentativi falliscono\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Errore generale nel caricamento dei file backupActions:', error);\r\n      return {}; // Restituisce un oggetto vuoto in caso di errore generale\r\n    }\r\n  }\r\n  \r\n  // Seleziona una stanza e prepara il gioco\r\n  const selectRoom = async (room) => {\r\n    console.log(\"=== DEBUG selectRoom ===\");\r\n    console.log(\"Selected room:\", room.id);\r\n    \r\n    setSelectedRoom(room);\r\n    \r\n    // Se la stanza selezionata è \"giochi\", mostra la schermata di selezione giochi\r\n    if (room.id === 'giochi') {\r\n      // Reset della selezione dei giochi\r\n      setSelectedGames({\r\n        truthOrDare: false,\r\n        wouldYouRather: false,\r\n        nonHoMai: false\r\n      });\r\n      setGameState('gameSelection');\r\n      return;\r\n    }\r\n    \r\n    setIsLoading(true);\r\n    setIsFirstActionLoaded(false);\r\n    \r\n    try {\r\n      // Carica il file backupActions nella lingua corrente\r\n      const backupActions = await loadBackupActions();\r\n      \r\n      // Simulazione caricamento\r\n      for (let i = 0; i <= 100; i += 10) {\r\n        setLoadingProgress(i);\r\n        await new Promise(resolve => setTimeout(resolve, 100));\r\n      }\r\n      \r\n      // Resetta il contatore delle azioni\r\n      setActionsCounter(0);\r\n      \r\n      // Inizializza gli stati per i giochi speciali\r\n      specialGames.initializeSpecialGames(room.id);\r\n      \r\n      // Carica le azioni di gruppo dal backup\r\n      if (backupActions.groupActions && backupActions.groupActions.length > 0) {\r\n        // Mescola le azioni di gruppo e seleziona fino a 15 per questa partita\r\n        const shuffledGroupActions = [...backupActions.groupActions]\r\n          .sort(() => Math.random() - 0.5)\r\n          .slice(0, 15);\r\n        \r\n        setGroupActionsPool(shuffledGroupActions);\r\n        \r\n        // Determina in quali posizioni dovrebbero apparire le azioni di gruppo\r\n        const positions = [];\r\n        \r\n        // Dividiamo la partita in segmenti per distribuire le azioni di gruppo\r\n        // Escludiamo le prime 2 azioni e le ultime 5 per non avere azioni di gruppo all'inizio o alla fine\r\n        const startPosition = 2;\r\n        const endPosition = MAX_ACTIONS_PER_GAME - 5;\r\n        const availableRange = endPosition - startPosition;\r\n        \r\n        // Calcoliamo quante azioni normali dovrebbero esserci tra ogni azione di gruppo\r\n        // Per avere 8 azioni di gruppo, avremo bisogno di 7 intervalli\r\n        const interval = Math.floor(availableRange / 8);\r\n        \r\n        // Garantiamo almeno 2 azioni normali tra ogni azione di gruppo\r\n        const minSpacing = 2;\r\n        \r\n        // Generiamo le 8 posizioni con un po' di randomicità ma mantenendo la distanza minima\r\n        for (let i = 0; i < 8; i++) {\r\n          // Base position nel suo segmento\r\n          const basePosition = startPosition + (i * interval);\r\n          \r\n          // Aggiungiamo un po' di randomicità ma manteniamo la distanza minima\r\n          // La randomicità è limitata per non sconfinare nel segmento successivo\r\n          const maxOffset = Math.max(0, Math.min(interval - minSpacing, 3));\r\n          const randomOffset = Math.floor(Math.random() * maxOffset);\r\n          \r\n          positions.push(basePosition + randomOffset);\r\n        }\r\n        \r\n        setGroupActionPositions(positions);\r\n        setGroupActionsShown(0);\r\n      }\r\n      \r\n      // Creiamo una variabile temporanea per il nuovo pool di azioni\r\n      let newRoomActionsPool = {};\r\n      \r\n      // Se è la modalità Neon Roulette, combina azioni da tutte le altre stanze\r\n      if (room.id === 'neonRoulette') {\r\n        // Preparazione degli array per le azioni da ciascuna stanza\r\n        let redRoomActions = [];\r\n        let darkRoomActions = [];\r\n        let coppieActions = [];\r\n        let partyActions = [];\r\n        let specialGameActions = [];\r\n        \r\n        // Raccogli azioni dal file backup per ogni stanza\r\n        if (backupActions.redRoom && backupActions.redRoom.length > 0) {\r\n          redRoomActions = [...backupActions.redRoom];\r\n        }\r\n        \r\n        if (backupActions.darkRoom && backupActions.darkRoom.length > 0) {\r\n          darkRoomActions = [...backupActions.darkRoom];\r\n        }\r\n        \r\n        if (backupActions.coppie && backupActions.coppie.length > 0) {\r\n          coppieActions = [...backupActions.coppie];\r\n        }\r\n        \r\n        if (backupActions.party && backupActions.party.length > 0) {\r\n          partyActions = [...backupActions.party];\r\n        }\r\n        \r\n        // Raccogliamo anche le azioni dai giochi speciali\r\n        if (backupActions.specialGames) {\r\n          // Raccogliamo tutte le azioni dei giochi speciali\r\n          Object.values(backupActions.specialGames).forEach(gameData => {\r\n            if (typeof gameData === 'object' && gameData.text) {\r\n              specialGameActions.push({ text: gameData.text });\r\n            }\r\n            \r\n            // Per i giochi con sottosezioni (come tuttoHaUnPrezzo o tuttiQuelliChe)\r\n            if (typeof gameData === 'object') {\r\n              if (gameData.redRoom && Array.isArray(gameData.redRoom)) {\r\n                specialGameActions = [...specialGameActions, ...gameData.redRoom.map(text => ({ text }))];\r\n              }\r\n              if (gameData.darkRoom && Array.isArray(gameData.darkRoom)) {\r\n                specialGameActions = [...specialGameActions, ...gameData.darkRoom.map(text => ({ text }))];\r\n              }\r\n              if (gameData.party && Array.isArray(gameData.party)) {\r\n                specialGameActions = [...specialGameActions, ...gameData.party.map(text => ({ text }))];\r\n              }\r\n              if (gameData.rules && Array.isArray(gameData.rules)) {\r\n                specialGameActions = [...specialGameActions, ...gameData.rules.map(text => ({ text }))];\r\n              }\r\n              if (gameData.actions && Array.isArray(gameData.actions)) {\r\n                specialGameActions = [...specialGameActions, ...gameData.actions.map(text => ({ text }))];\r\n              }\r\n            }\r\n          });\r\n        }\r\n        \r\n        // Se qualche categoria ha poche o nessuna azione, usa il fallback\r\n        const roomContent = {\r\n          redRoom: { text: t.noActionAvailable },\r\n          darkRoom: { text: t.noActionAvailable },\r\n          coppie: { text: t.noActionAvailable },\r\n          party: { text: t.noActionAvailable }\r\n        };\r\n        \r\n        if (redRoomActions.length < 5 && roomContent.redRoom) {\r\n          redRoomActions = [...redRoomActions, ...roomContent.redRoom];\r\n        }\r\n        \r\n        if (darkRoomActions.length < 5 && roomContent.darkRoom) {\r\n          darkRoomActions = [...darkRoomActions, ...roomContent.darkRoom];\r\n        }\r\n        \r\n        if (coppieActions.length < 5 && roomContent.coppie) {\r\n          coppieActions = [...coppieActions, ...roomContent.coppie];\r\n        }\r\n        \r\n        if (partyActions.length < 5 && roomContent.party) {\r\n          partyActions = [...partyActions, ...roomContent.party];\r\n        }\r\n        \r\n        // Mescola ciascun gruppo di azioni separatamente\r\n        redRoomActions = redRoomActions.sort(() => Math.random() - 0.5);\r\n        darkRoomActions = darkRoomActions.sort(() => Math.random() - 0.5);\r\n        coppieActions = coppieActions.sort(() => Math.random() - 0.5);\r\n        partyActions = partyActions.sort(() => Math.random() - 0.5);\r\n        specialGameActions = specialGameActions.sort(() => Math.random() - 0.5);\r\n        \r\n        // Calcola quante azioni prendere da ciascuna categoria per un totale di circa 100\r\n        const maxPerCategory = 20; // 20 azioni per categoria per fare spazio ai giochi speciali\r\n        \r\n        // Prendi un numero bilanciato di azioni da ciascuna categoria\r\n        const selectedRedRoomActions = redRoomActions.slice(0, Math.min(maxPerCategory, redRoomActions.length));\r\n        const selectedDarkRoomActions = darkRoomActions.slice(0, Math.min(maxPerCategory, darkRoomActions.length));\r\n        const selectedCoppieActions = coppieActions.slice(0, Math.min(maxPerCategory, coppieActions.length));\r\n        const selectedPartyActions = partyActions.slice(0, Math.min(maxPerCategory, partyActions.length));\r\n        const selectedSpecialGameActions = specialGameActions.slice(0, Math.min(maxPerCategory, specialGameActions.length));\r\n        \r\n        // Combina tutte le azioni selezionate\r\n        const combinedActions = [\r\n          ...selectedRedRoomActions,\r\n          ...selectedDarkRoomActions,\r\n          ...selectedCoppieActions,\r\n          ...selectedPartyActions,\r\n          ...selectedSpecialGameActions\r\n        ];\r\n        \r\n        // Mescola le azioni combinate\r\n        const shuffledActions = combinedActions.sort(() => Math.random() - 0.5);\r\n        \r\n        console.log(t.logMessages.neonRouletteStats);\r\n        console.log(t.logMessages.redRoomStats.replace('{count}', selectedRedRoomActions.length));\r\n        console.log(t.logMessages.darkRoomStats.replace('{count}', selectedDarkRoomActions.length));\r\n        console.log(t.logMessages.coppieStats.replace('{count}', selectedCoppieActions.length));\r\n        console.log(t.logMessages.partyStats.replace('{count}', selectedPartyActions.length));\r\n        console.log(\"Special Games: \" + selectedSpecialGameActions.length + \" azioni\");\r\n        console.log(t.logMessages.totalStats.replace('{count}', shuffledActions.length));\r\n        \r\n        newRoomActionsPool = {\r\n          ...roomActionsPool,\r\n          neonRoulette: shuffledActions\r\n        };\r\n      } \r\n      // Altrimenti, carica le azioni normali della stanza\r\n      else {\r\n        // Ottieni azioni dal backup file\r\n        const backupActionsForRoom = backupActions[room.id] || [];\r\n        \r\n        if (backupActionsForRoom.length > 0) {\r\n          // Mescola e seleziona azioni casuali\r\n          const shuffledBackupActions = [...backupActionsForRoom]\r\n            .sort(() => Math.random() - 0.5)\r\n            .slice(0, Math.max(MAX_ACTIONS_PER_GAME * 2, 50));\r\n          \r\n          newRoomActionsPool = {\r\n            ...roomActionsPool,\r\n            [room.id]: shuffledBackupActions\r\n          };\r\n        } else {\r\n          // Se non ci sono azioni nel backup, almeno inizializza con un array vuoto\r\n          newRoomActionsPool = {\r\n            ...roomActionsPool,\r\n            [room.id]: []\r\n          };\r\n        }\r\n      }\r\n      \r\n      console.log(\"=== DEBUG newRoomActionsPool ===\");\r\n      console.log(\"Room:\", room.id);\r\n      console.log(\"Actions count:\", newRoomActionsPool[room.id]?.length);\r\n      console.log(\"First action:\", newRoomActionsPool[room.id]?.[0]?.text?.substring(0, 50));\r\n      \r\n      // Aggiorna tutti gli stati necessari in una sola operazione\r\n      setRoomActionsPool(newRoomActionsPool);\r\n      \r\n      // Resetta l'indice delle azioni\r\n      setCurrentActionIndex(prev => ({\r\n        ...prev,\r\n        [room.id]: 0\r\n      }));\r\n      \r\n      // Resetta l'azione precedente\r\n      setPreviousAction(null);\r\n      \r\n      // Seleziona un giocatore casuale per iniziare\r\n      const randomPlayerIndex = Math.floor(Math.random() * players.length);\r\n      setCurrentPlayerIndex(randomPlayerIndex);\r\n      \r\n      // Attendiamo un momento per assicurarci che gli stati siano aggiornati\r\n      await new Promise(resolve => setTimeout(resolve, 100));\r\n      \r\n      // Vai alla schermata di gioco\r\n      setGameState('playing');\r\n      \r\n      // Carica immediatamente la prima azione dopo aver impostato lo stato\r\n      setTimeout(() => {\r\n        console.log(\"=== Loading first action directly ===\");\r\n        console.log(\"Pool ready:\", newRoomActionsPool[room.id]?.length);\r\n        if (newRoomActionsPool[room.id] && newRoomActionsPool[room.id].length > 0) {\r\n          console.log(\"Calling updateCurrentAction directly\");\r\n          updateCurrentActionWithPool(newRoomActionsPool);\r\n          setIsFirstActionLoaded(true);\r\n        }\r\n      }, 200);\r\n      \r\n    } catch (error) {\r\n      console.error('Errore:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Versione di updateCurrentAction che accetta il pool come parametro\r\n  const updateCurrentActionWithPool = async (poolToUse = null) => {\r\n    const actualPool = poolToUse || roomActionsPool;\r\n    const roomId = selectedRoom?.id;\r\n    \r\n    if (!roomId) return;\r\n    \r\n    console.log(\"=== DEBUG updateCurrentActionWithPool ===\");\r\n    console.log(\"roomId:\", roomId);\r\n    console.log(\"actionsCounter:\", actionsCounter);\r\n    console.log(\"poolToUse provided:\", !!poolToUse);\r\n    console.log(\"actualPool for room:\", actualPool[roomId]?.length);\r\n    \r\n    // Carica le azioni dal file di backup\r\n    const backupActions = await loadBackupActions();\r\n\r\n    // In modalità giochi, mostra solo i giochi speciali selezionati\r\n    if (roomId === 'giochi') {\r\n      const currentPool = actualPool[roomId];\r\n      let index = currentActionIndex[roomId];\r\n      \r\n      if (!currentPool || currentPool.length === 0) {\r\n        setCurrentAction({ text: t.noActionAvailable });\r\n        setActionsCounter(prev => prev + 1);\r\n        return;\r\n      }\r\n      \r\n      // Se abbiamo esaurito le azioni, ricomincia dal primo\r\n      let adjustedIndex = index % currentPool.length;\r\n      \r\n      // Ottieni l'azione\r\n      const currentPoolAction = currentPool[adjustedIndex];\r\n      let actionText = currentPoolAction.text;\r\n      \r\n      // Controlla se è un gioco speciale\r\n      if (actionText.startsWith(\"SPECIAL_GAME:\")) {\r\n        const gameType = actionText.replace(\"SPECIAL_GAME:\", \"\");\r\n        console.log(\"Triggering special game from games mode:\", gameType);\r\n        \r\n        // Attiva il gioco speciale\r\n        await specialGames.handleSpecialGame(gameType);\r\n        return;\r\n      }\r\n      \r\n      // Gestisci il segnaposto playerB per azioni normali\r\n      if (actionText.includes(\"{playerB}\")) {\r\n        const currentPlayer = players[currentPlayerIndex];\r\n        let otherPlayers = players.filter(player => player !== currentPlayer);\r\n        \r\n        if (otherPlayers.length > 0) {\r\n          const randomPlayerIndex = Math.floor(Math.random() * otherPlayers.length);\r\n          const randomPlayerName = otherPlayers[randomPlayerIndex];\r\n          actionText = actionText.replace(/{playerB}/g, randomPlayerName);\r\n        } else {\r\n          actionText = actionText.replace(/{playerB}/g, \"qualcun altro\");\r\n        }\r\n      }\r\n      \r\n      // Salva l'azione corrente per confrontarla la prossima volta\r\n      setPreviousAction(currentPoolAction.text);\r\n      \r\n      // Imposta l'azione corrente\r\n      setCurrentAction({ text: actionText });\r\n      \r\n      // Incrementa il contatore delle azioni\r\n      setActionsCounter(prev => prev + 1);\r\n      \r\n      return;\r\n    }\r\n\r\n    // Codice originale per modalità stanze...\r\n    // Verifica se è il momento di mostrare un'azione di gruppo\r\n    if (groupActionsPool.length > 0 && \r\n        groupActionPositions.includes(actionsCounter) && \r\n        groupActionsShown < 8) {\r\n      \r\n      // Seleziona un'azione di gruppo casuale\r\n      const randomIndex = Math.floor(Math.random() * groupActionsPool.length);\r\n      const groupAction = groupActionsPool[randomIndex];\r\n      \r\n      // Rimuovi questa azione dal pool per evitare duplicati\r\n      const updatedPool = [...groupActionsPool];\r\n      updatedPool.splice(randomIndex, 1);\r\n      setGroupActionsPool(updatedPool);\r\n      \r\n      // Imposta l'azione di gruppo come azione corrente\r\n      setCurrentAction({ text: groupAction.text });\r\n      \r\n      // Incrementa il contatore di azioni di gruppo mostrate\r\n      setGroupActionsShown(prev => prev + 1);\r\n      \r\n      // Incrementa il contatore delle azioni\r\n      setActionsCounter(prev => prev + 1);\r\n      \r\n      return;\r\n    }\r\n    \r\n    // Verifica se è il momento di mostrare un gioco speciale\r\n    console.log(\"Checking for special game...\");\r\n    if (specialGames.shouldShowSpecialGame(actionsCounter, roomId)) {\r\n      console.log(\"Should show special game!\");\r\n      \r\n      // Trova il prossimo gioco da mostrare\r\n      const nextGameToShow = specialGames.findNextSpecialGame(actionsCounter, roomId);\r\n      console.log(\"Next game to show:\", nextGameToShow);\r\n      \r\n      // Se abbiamo trovato un gioco da mostrare, mostralo\r\n      if (nextGameToShow) {\r\n        console.log(\"Handling special game:\", nextGameToShow);\r\n        await specialGames.handleSpecialGame(nextGameToShow);\r\n        return;\r\n      }\r\n    }\r\n    \r\n    const currentPool = actualPool[roomId];\r\n    let index = currentActionIndex[roomId];\r\n    \r\n    console.log(\"=== DEBUG normal action selection ===\");\r\n    console.log(\"currentPool length:\", currentPool?.length);\r\n    console.log(\"index:\", index);\r\n    \r\n    // Se non ci sono azioni nel pool, usa quelle predefinite\r\n    if (!currentPool || currentPool.length === 0) {\r\n      console.log(t.logMessages.noActionsInPool);\r\n      \r\n      // Per Neon Roulette, raccogliamo azioni dal fallback di tutte le stanze in modo bilanciato\r\n      if (roomId === 'neonRoulette') {\r\n        // Crea un pool di fallback per ogni stanza\r\n        const fallbackTexts = [\r\n          { text: t.noActionAvailable },\r\n          { text: t.noActionAvailable },\r\n          { text: t.noActionAvailable }\r\n        ];\r\n        \r\n        if (fallbackTexts.length > 0) {\r\n          const randomIndex = Math.floor(Math.random() * fallbackTexts.length);\r\n          setCurrentAction({ text: fallbackTexts[randomIndex].text });\r\n        } else {\r\n          setCurrentAction({ text: t.noActionAvailable });\r\n        }\r\n      } \r\n      // Per altre stanze, usa il fallback normale\r\n      else {\r\n        setCurrentAction({ text: t.noActionAvailable });\r\n      }\r\n      \r\n      // Incrementa il contatore delle azioni (anche per il fallback)\r\n      setActionsCounter(prev => prev + 1);\r\n      \r\n      return;\r\n    }\r\n    \r\n    // Se abbiamo esaurito le azioni, ricomincia\r\n    let adjustedIndex = index % currentPool.length;\r\n    \r\n    // Verifica se è la stessa dell'azione precedente ed evita duplicati\r\n    if (previousAction !== null) {\r\n      // Prova fino a 5 volte a trovare un'azione diversa (per evitare loop infiniti)\r\n      let attempts = 0;\r\n      let tempAction = currentPool[adjustedIndex].text;\r\n      \r\n      while (tempAction === previousAction && attempts < 5 && currentPool.length > 1) {\r\n        // Incrementa l'indice e prova con un'altra azione\r\n        index = (index + 1) % currentPool.length;\r\n        adjustedIndex = index;\r\n        tempAction = currentPool[adjustedIndex].text;\r\n        attempts++;\r\n      }\r\n      \r\n      // Aggiorna l'indice se è stato cambiato\r\n      if (adjustedIndex !== currentActionIndex[roomId]) {\r\n        setCurrentActionIndex(prev => ({\r\n          ...prev,\r\n          [roomId]: adjustedIndex\r\n        }));\r\n      }\r\n    }\r\n    \r\n    // Ottieni l'azione\r\n    let actionText = currentPool[adjustedIndex].text;\r\n    \r\n    console.log(\"=== DEBUG selected action ===\");\r\n    console.log(\"adjustedIndex:\", adjustedIndex);\r\n    console.log(\"actionText:\", actionText?.substring(0, 100));\r\n    \r\n    // Gestisci il segnaposto playerB\r\n    if (actionText.includes(\"{playerB}\")) {\r\n      // Ottieni il nome del giocatore corrente\r\n      const currentPlayer = players[currentPlayerIndex];\r\n      \r\n      // Crea una lista di tutti gli altri giocatori (escluso quello corrente)\r\n      let otherPlayers = players.filter(player => player !== currentPlayer);\r\n      \r\n      if (otherPlayers.length > 0) {\r\n        // Seleziona un giocatore casuale tra gli altri\r\n        const randomPlayerIndex = Math.floor(Math.random() * otherPlayers.length);\r\n        const randomPlayerName = otherPlayers[randomPlayerIndex];\r\n        \r\n        // Sostituisci il segnaposto con il nome del giocatore scelto\r\n        actionText = actionText.replace(/{playerB}/g, randomPlayerName);\r\n      } else {\r\n        // Fallback se non ci sono altri giocatori\r\n        actionText = actionText.replace(/{playerB}/g, \"qualcun altro\");\r\n      }\r\n    }\r\n    \r\n    // Controlla prima se la frase contiene un punto interrogativo\r\n    if (actionText.includes(\"?\")) {\r\n      // Espressione regolare per catturare domande con penalità alla fine\r\n      const questionPenaltyRegex = /\\?.*?(\\d+)\\s*penal(i|i)t(à|a)/i;\r\n      const match = actionText.match(questionPenaltyRegex);\r\n      \r\n      if (match) {\r\n        const penaltyCount = match[1];\r\n        \r\n        // Scegli una formulazione casuale\r\n        const randomQuestionAlt = t.penaltyAlternatives.questions[\r\n          Math.floor(Math.random() * t.penaltyAlternatives.questions.length)\r\n        ].replace('{count}', penaltyCount);\r\n        \r\n        // Sostituisci tutto ciò che viene dopo ? fino a \"penalità\" con la nuova formulazione\r\n        actionText = actionText.replace(/\\?(.*?)(\\d+)\\s*penal(i|i)t(à|a)/i, randomQuestionAlt);\r\n      }\r\n    }\r\n    // Se non è una domanda, controlla se termina con \"oppure X penalità\"\r\n    else {\r\n      const penaltyRegex = /\\s(oppure|o saranno|o)\\s*(\\d+)\\s*penal(i|i)t(à|a)$/i;\r\n      const match = actionText.match(penaltyRegex);\r\n      \r\n      if (match) {\r\n        const penaltyCount = match[2]; // Il secondo gruppo è il numero\r\n        \r\n        // Scegli una formulazione casuale\r\n        const randomAlt = t.penaltyAlternatives.statements[\r\n          Math.floor(Math.random() * t.penaltyAlternatives.statements.length)\r\n        ].replace('{count}', penaltyCount);\r\n        \r\n        // Sostituisci \"oppure X penalità\" con la nuova formulazione\r\n        actionText = actionText.replace(penaltyRegex, ` ${randomAlt}`);\r\n      }\r\n    }\r\n    \r\n    // Salva l'azione corrente per confrontarla la prossima volta\r\n    setPreviousAction(currentPool[adjustedIndex].text);\r\n    \r\n    // Imposta l'azione corrente\r\n    setCurrentAction({ text: actionText });\r\n    \r\n    console.log(\"=== DEBUG final action set ===\");\r\n    console.log(\"Final actionText:\", actionText?.substring(0, 100));\r\n    \r\n    // Incrementa il contatore delle azioni\r\n    setActionsCounter(prev => prev + 1);\r\n  };\r\n  \r\n  // Funzione dedicata per aggiornare l'azione corrente (versione originale per i turni successivi)\r\n  const updateCurrentAction = () => updateCurrentActionWithPool(null);\r\n  \r\n  // Passa al turno successivo\r\n  const nextTurn = (afterSpecialAction = false) => {\r\n    const roomId = selectedRoom?.id;\r\n    \r\n    console.log(\"=== DEBUG nextTurn ===\");\r\n    console.log(\"afterSpecialAction:\", afterSpecialAction);\r\n    console.log(\"activeSpecialGame:\", specialGames.activeSpecialGame);\r\n    console.log(\"actionsCounter:\", actionsCounter);\r\n    console.log(\"roomId:\", roomId);\r\n    \r\n    // Verifica se il numero massimo di azioni è stato raggiunto\r\n    if (actionsCounter >= MAX_ACTIONS_PER_GAME - 1) {\r\n      // Segna che l'utente ha giocato la partita gratuita\r\n      setHasPlayedFreeGame(true);\r\n      localStorage.setItem('hasPlayedFreeGame', 'true');\r\n      \r\n      // Vai direttamente al game over\r\n      setGameState('gameOver');\r\n      return;\r\n    }\r\n    \r\n    // Incrementa l'indice per la prossima volta, ma solo se non siamo in una fase speciale\r\n    if (!specialGames.activeSpecialGame || afterSpecialAction) {\r\n      setCurrentActionIndex(prev => ({\r\n        ...prev,\r\n        [roomId]: prev[roomId] + 1\r\n      }));\r\n    }\r\n    \r\n    // Se c'è solo un giocatore, non cambia\r\n    if (players.length <= 1) {\r\n      setTimeout(() => {\r\n        updateCurrentAction();\r\n      }, 50);\r\n      return;\r\n    }\r\n    \r\n    // Se non siamo in un turno speciale o stiamo procedendo dopo un'azione speciale,\r\n    // seleziona un nuovo giocatore casuale\r\n    if (!specialGames.activeSpecialGame || afterSpecialAction) {\r\n      // Seleziona un giocatore casuale diverso da quello attuale\r\n      let nextPlayerIndex;\r\n      do {\r\n        nextPlayerIndex = Math.floor(Math.random() * players.length);\r\n      } while (nextPlayerIndex === currentPlayerIndex);\r\n      \r\n      setCurrentPlayerIndex(nextPlayerIndex);\r\n    }\r\n    \r\n    // Piccolo timeout per assicurarsi che l'indice sia aggiornato prima di chiamare updateCurrentAction\r\n    setTimeout(() => {\r\n      updateCurrentAction();\r\n    }, 50);\r\n  };\r\n  \r\n  // Funzione per continuare dopo un'azione speciale\r\n  const nextTurnAfterSpecialGame = () => {\r\n    specialGames.nextTurnAfterSpecialGame(nextTurn);\r\n  };\r\n  \r\n  // Navigazione tra le schermate\r\n  const goBack = () => {\r\n    switch (gameState) {\r\n      case 'gameSelection':\r\n        setGameState('roomSelection');\r\n        break;\r\n      case 'playerSetup':\r\n        setGameState('welcome');\r\n        break;\r\n      case 'roomSelection':\r\n        setGameState('playerSetup');\r\n        break;\r\n      case 'playing':\r\n        setGameState('roomSelection');\r\n        break;\r\n      case 'gameOver':\r\n        // Se l'utente ha già giocato e non ha pagato, mostra il paywall\r\n        if (hasPlayedFreeGame && !hasPaid) {\r\n          setGameState('paywall');\r\n        } else {\r\n          setGameState('roomSelection');\r\n        }\r\n        break;\r\n      case 'paywall':\r\n        setGameState('welcome');\r\n        break;\r\n      case 'languageSelection':\r\n        setGameState('welcome');\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  \r\n  // Resetta il gioco\r\n  const resetGame = () => {\r\n    setGameState('welcome');\r\n    setPlayers([]);\r\n    setInputPlayers([{ id: 1, name: '' }]);\r\n    setCurrentPlayerIndex(0);\r\n    setCurrentAction(null);\r\n    setSelectedRoom(null);\r\n    setPreviousAction(null);\r\n    setActionsCounter(0);\r\n    setIsFirstActionLoaded(false);\r\n    setSelectedGames({\r\n      truthOrDare: false,\r\n      wouldYouRather: false,\r\n      nonHoMai: false\r\n    });\r\n    \r\n    // Resetta le azioni di gruppo\r\n    setGroupActionsPool([]);\r\n    setGroupActionPositions([]);\r\n    setGroupActionsShown(0);\r\n  };\r\n  \r\n  // Seleziona un'opzione di pagamento\r\n  const selectPaymentOption = (option) => {\r\n    setSelectedPaymentOption(option);\r\n  };\r\n  \r\n  // Processa il pagamento\r\n  const processPayment = () => {\r\n    if (!selectedPaymentOption) return;\r\n    \r\n    setIsProcessingPayment(true);\r\n    \r\n    // Simulazione del processo di pagamento\r\n    setTimeout(() => {\r\n      // Imposta hasPaid a true e salva in localStorage\r\n      setHasPaid(true);\r\n      localStorage.setItem('hasPaid', 'true');\r\n      \r\n      setIsProcessingPayment(false);\r\n      setSelectedPaymentOption(null);\r\n      \r\n      // Vai alla schermata iniziale\r\n      setGameState('welcome');\r\n    }, 2000);\r\n  };\r\n  \r\n  // Reimposta lo stato di gioco per test\r\n  const resetPaywallState = () => {\r\n    localStorage.removeItem('hasPaid');\r\n    localStorage.removeItem('hasPlayedFreeGame');\r\n    setHasPaid(false);\r\n    setHasPlayedFreeGame(false);\r\n    resetGame();\r\n  };\r\n\r\n  // Export everything that will be needed by the UI component\r\n  return {\r\n    // Constants\r\n    MAX_ACTIONS_PER_GAME,\r\n    MIN_ACTIONS_BETWEEN_SPECIAL_GAMES: specialGames.MIN_ACTIONS_BETWEEN_SPECIAL_GAMES,\r\n    \r\n    // State\r\n    language,\r\n    t,\r\n    gameState,\r\n    players,\r\n    inputPlayers,\r\n    currentPlayerIndex,\r\n    currentAction,\r\n    selectedRoom,\r\n    isLoading,\r\n    loadingProgress,\r\n    currentRoomIndex,\r\n    hasPlayedFreeGame,\r\n    hasPaid,\r\n    selectedPaymentOption,\r\n    isProcessingPayment,\r\n    actionsCounter,\r\n    \r\n    // Stati per la selezione giochi (della stanza giochi)\r\n    selectedGames,\r\n    \r\n    // Stati dai giochi speciali\r\n    activeSpecialGame: specialGames.activeSpecialGame,\r\n    specialGamePlayer: specialGames.specialGamePlayer,\r\n    debtList: specialGames.debtList,\r\n    truthDarePlayers: specialGames.truthDarePlayers,\r\n    currentTruthDareChoice: specialGames.currentTruthDareChoice,\r\n    truthDareContent: specialGames.truthDareContent,\r\n    truthDareState: specialGames.truthDareState,\r\n    wouldYouRatherContent: specialGames.wouldYouRatherContent,\r\n    isTimerActive: specialGames.isTimerActive,\r\n    timerSeconds: specialGames.timerSeconds,\r\n    timerChallengeContent: specialGames.timerChallengeContent,\r\n    \r\n    // Functions\r\n    changeLanguage,\r\n    openLanguageSelector,\r\n    enterPlayerSetup,\r\n    addPlayerInput,\r\n    updatePlayerName,\r\n    removePlayerInput,\r\n    startGame,\r\n    handleKeyPress,\r\n    selectRoom,\r\n    nextTurn,\r\n    nextTurnAfterSpecialGame,\r\n    goBack,\r\n    resetGame,\r\n    selectPaymentOption,\r\n    processPayment,\r\n    resetPaywallState,\r\n    \r\n    // Funzioni per la selezione giochi (della stanza giochi)\r\n    toggleGameSelection,\r\n    proceedWithSelectedGames,\r\n    \r\n    // Funzioni dai giochi speciali\r\n    handleTruthDareChoice: specialGames.handleTruthDareChoice,\r\n    getSpecialGameMessage: specialGames.getSpecialGameMessage,\r\n    startTimer: specialGames.startTimer,\r\n    \r\n    // Additional state setters che devono essere esposti\r\n    setCurrentRoomIndex,\r\n    setGameState\r\n  };\r\n};\r\n\r\nexport default useGameLogic;","// TimerChallengeComponent.js\nimport React, { useState, useEffect, useRef } from 'react';\n\nconst TimerChallengeComponent = ({ timerChallengeContent }) => {\n  const [isTimerActive, setIsTimerActive] = useState(false);\n  const [timerSeconds, setTimerSeconds] = useState(20);\n  const timerIntervalRef = useRef(null);\n  \n  // Funzione per avviare il timer\n  const startTimer = () => {\n    console.log(\"Timer avviato!\");\n    \n    // Resetta e avvia il timer\n    setTimerSeconds(20);\n    setIsTimerActive(true);\n    \n    // Cancella eventuali intervalli precedenti\n    if (timerIntervalRef.current) {\n      clearInterval(timerIntervalRef.current);\n      timerIntervalRef.current = null;\n    }\n    \n    // Avvia il nuovo intervallo\n    timerIntervalRef.current = setInterval(() => {\n      setTimerSeconds(prev => {\n        if (prev <= 1) {\n          clearInterval(timerIntervalRef.current);\n          timerIntervalRef.current = null;\n          setIsTimerActive(false);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n  };\n  \n  // Pulisci l'intervallo quando il componente viene smontato\n  useEffect(() => {\n    return () => {\n      if (timerIntervalRef.current) {\n        clearInterval(timerIntervalRef.current);\n      }\n    };\n  }, []);\n\n  return (\n    <div className=\"timer-challenge-container\">\n      {!isTimerActive ? (\n        <button\n          onClick={startTimer}\n          style={{\n            backgroundColor: '#FF6B35',\n            color: 'white',\n            border: 'none',\n            borderRadius: '50%',\n            width: '80px',\n            height: '80px',\n            fontSize: '24px',\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            boxShadow: '0 4px 15px rgba(255, 107, 53, 0.3)',\n            transition: 'all 0.2s'\n          }}\n          onMouseOver={(e) => e.target.style.transform = 'scale(1.1)'}\n          onMouseOut={(e) => e.target.style.transform = 'scale(1)'}\n        >\n          ⏱️\n        </button>\n      ) : (\n        <div style={{\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          gap: '10px'\n        }}>\n          <div style={{\n            width: '100px',\n            height: '100px',\n            borderRadius: '50%',\n            backgroundColor: timerSeconds > 10 ? '#2ECC71' : timerSeconds > 5 ? '#F39C12' : '#E74C3C',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '28px',\n            fontWeight: 'bold',\n            color: 'white',\n            boxShadow: `0 0 20px ${timerSeconds > 10 ? '#2ECC71' : timerSeconds > 5 ? '#F39C12' : '#E74C3C'}50`,\n            animation: timerSeconds <= 5 ? 'pulse 1s infinite' : 'none'\n          }}>\n            {timerSeconds}\n          </div>\n          <p style={{\n            fontSize: '14px',\n            color: '#AAAAAA',\n            textAlign: 'center'\n          }}>\n            Tempo rimanente: {timerSeconds}s\n          </p>\n        </div>\n      )}\n      \n      {timerChallengeContent && (\n        <div style={{\n          marginTop: '15px',\n          padding: '15px',\n          backgroundColor: '#FF6B3520',\n          borderRadius: '10px',\n          textAlign: 'center'\n        }}>\n          <p style={{ fontSize: '16px', fontWeight: 'bold' }}>\n            {timerChallengeContent}\n          </p>\n        </div>\n      )}\n      \n      {!isTimerActive && timerSeconds === 0 && (\n        <p style={{\n          fontSize: '16px',\n          color: '#E74C3C',\n          fontWeight: 'bold',\n          textAlign: 'center'\n        }}>\n          Tempo scaduto! Paga le penalità!\n        </p>\n      )}\n      \n      <style jsx=\"true\">{`\n        @keyframes pulse {\n          0% { transform: scale(1); }\n          50% { transform: scale(1.1); }\n          100% { transform: scale(1); }\n        }\n        \n        .timer-challenge-container {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 15px;\n          margin-top: 20px;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default TimerChallengeComponent;","// GameUI.js - Componente per la parte visuale del gioco (con modalità giochi)\r\nimport React from 'react';\r\nimport './App.css';\r\nimport TimerChallengeComponent from './TimerChallengeComponent';\r\n\r\n// Importa l'immagine del guanto che punta\r\nimport pointingGlove from './assets/pointing-glove.png';\r\n\r\n/**\r\n * Componente per la UI del gioco\r\n * @param {Object} props - Props passate dal componente principale\r\n */\r\nconst GameUI = (props) => {\r\n  const {\r\n    // Riferimento alle traduzioni\r\n    t,\r\n    language,\r\n    \r\n    // Stati del gioco\r\n    gameState,\r\n    players,\r\n    inputPlayers,\r\n    currentPlayerIndex,\r\n    currentAction,\r\n    selectedRoom,\r\n    isLoading,\r\n    currentRoomIndex,\r\n    \r\n    // Stati per modalità giochi\r\n    gameMode,\r\n    selectedGames,\r\n    \r\n    // Stati per giochi speciali\r\n    activeSpecialGame,\r\n    specialGamePlayer,\r\n    debtList,\r\n    truthDarePlayers,\r\n    currentTruthDareChoice,\r\n    truthDareContent,\r\n    truthDareState,\r\n    \r\n    // Contenuto del gioco \"preferiresti\"\r\n    wouldYouRatherContent,\r\n    \r\n    // Stati per il timer challenge\r\n    isTimerActive,\r\n    timerSeconds,\r\n    timerChallengeContent,\r\n    \r\n    // Stati per paywall\r\n    hasPlayedFreeGame,\r\n    hasPaid,\r\n    selectedPaymentOption,\r\n    isProcessingPayment,\r\n    \r\n    // Funzioni\r\n    changeLanguage,\r\n    openLanguageSelector,\r\n    enterPlayerSetup,\r\n    addPlayerInput,\r\n    updatePlayerName,\r\n    removePlayerInput,\r\n    startGame,\r\n    handleKeyPress,\r\n    selectRoom,\r\n    nextTurn,\r\n    nextTurnAfterSpecialGame,\r\n    handleTruthDareChoice,\r\n    goBack,\r\n    resetPaywallState,\r\n    getSpecialGameMessage,\r\n    \r\n    // Funzioni per modalità giochi\r\n    toggleGameSelection,\r\n    proceedWithSelectedGames,\r\n    \r\n    // Funzioni per il timer\r\n    startTimer,\r\n    \r\n    // Props aggiuntive che potrebbero essere necessarie\r\n    setCurrentRoomIndex,\r\n    selectPaymentOption,\r\n    processPayment,\r\n    MAX_ACTIONS_PER_GAME\r\n  } = props;\r\n\r\n  // Rendering condizionale in base allo stato del gioco\r\n  return (\r\n    <div className=\"app-container\">\r\n      {/* Welcome Screen */}\r\n      {gameState === 'welcome' && (\r\n        <div className=\"screen welcome-screen\" style={{ \r\n          backgroundColor: '#000000', \r\n          color: '#FFFFFF',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          height: '100vh',\r\n          padding: '20px'\r\n        }}>\r\n          <div style={{\r\n            textAlign: 'center',\r\n            maxWidth: '340px'\r\n          }}>\r\n            <h1 style={{ \r\n              fontSize: '36px', \r\n              marginBottom: '20px',\r\n              fontWeight: 'bold'\r\n            }}>{t.appName}</h1>\r\n            <p style={{ \r\n              fontSize: '18px', \r\n              marginBottom: '40px',\r\n              color: '#CCCCCC',\r\n              lineHeight: '1.5'\r\n            }}>{t.appDescription}</p>\r\n            \r\n            <button \r\n              onClick={enterPlayerSetup}\r\n              style={{\r\n                width: '100%',\r\n                backgroundColor: '#3498db',\r\n                color: '#FFFFFF',\r\n                border: 'none',\r\n                borderRadius: '10px',\r\n                padding: '16px',\r\n                fontSize: '18px',\r\n                fontWeight: 'bold',\r\n                cursor: 'pointer',\r\n                marginBottom: '15px'\r\n              }}\r\n            >\r\n              {t.startButton}\r\n            </button>\r\n            \r\n            <button \r\n              onClick={openLanguageSelector}\r\n              style={{\r\n                width: '100%',\r\n                backgroundColor: 'transparent',\r\n                color: '#FFFFFF',\r\n                border: '1px solid #3498db',\r\n                borderRadius: '10px',\r\n                padding: '16px',\r\n                fontSize: '18px',\r\n                fontWeight: 'bold',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              {language === 'it' ? '🇮🇹 Italiano' : \r\n               language === 'en' ? '🇬🇧 English' : \r\n               language === 'fr' ? '🇫🇷 Français' : \r\n               '🇩🇪 Deutsch'} - {language === 'it' ? 'Cambia lingua' : \r\n                                 language === 'en' ? 'Change language' : \r\n                                 language === 'fr' ? 'Changer de langue' : \r\n                                 'Sprache ändern'}\r\n            </button>\r\n            \r\n            {/* Pulsante nascosto per reset (solo per testing) */}\r\n            <div style={{ marginTop: '20px', opacity: 0.5 }}>\r\n              <button\r\n                onClick={resetPaywallState}\r\n                style={{\r\n                  background: 'none',\r\n                  border: '1px solid #555',\r\n                  color: '#888',\r\n                  padding: '8px 16px',\r\n                  fontSize: '12px',\r\n                  borderRadius: '5px',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                {t.resetButton}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Game Selection Screen */}\r\n      {gameState === 'gameSelection' && (\r\n        <div className=\"screen game-selection-screen\" style={{ \r\n          backgroundColor: '#000000', \r\n          color: '#FFFFFF',\r\n          padding: '20px 0 0 0',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          height: '100vh'\r\n        }}>\r\n          <div style={{ \r\n            display: 'grid',\r\n            gridTemplateColumns: '50px 1fr 50px',\r\n            alignItems: 'center',\r\n            padding: '15px 0',\r\n            marginBottom: '20px'\r\n          }}>\r\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n              <button \r\n                onClick={goBack}\r\n                style={{\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  color: '#FFFFFF',\r\n                  fontSize: '24px',\r\n                  cursor: 'pointer',\r\n                  padding: '5px'\r\n                }}\r\n              >\r\n                ←\r\n              </button>\r\n            </div>\r\n            \r\n            <h1 style={{ \r\n              margin: 0, \r\n              textAlign: 'center',\r\n              fontWeight: 'normal',\r\n              fontSize: '28px',\r\n              letterSpacing: '1px'\r\n            }}>\r\n              {t.gameSelection.title}\r\n            </h1>\r\n            \r\n            <div></div>\r\n          </div>\r\n          \r\n          <div style={{ \r\n            flex: 1,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            padding: '0 20px',\r\n            marginBottom: '80px'\r\n          }}>\r\n            <p style={{\r\n              fontSize: '16px',\r\n              color: '#CCCCCC',\r\n              textAlign: 'center',\r\n              marginBottom: '30px',\r\n              lineHeight: '1.5'\r\n            }}>\r\n              {t.gameSelection.description}\r\n            </p>\r\n            \r\n            <div style={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              gap: '20px'\r\n            }}>\r\n              {/* Obbligo o Verità */}\r\n              <div \r\n                onClick={() => toggleGameSelection('truthOrDare')}\r\n                style={{\r\n                  backgroundColor: selectedGames.truthOrDare ? '#8B5CF620' : '#2A2A2A',\r\n                  border: selectedGames.truthOrDare ? '2px solid #8B5CF6' : '2px solid transparent',\r\n                  borderRadius: '15px',\r\n                  padding: '20px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.2s'\r\n                }}\r\n              >\r\n                <div style={{\r\n                  width: '24px',\r\n                  height: '24px',\r\n                  border: '2px solid #8B5CF6',\r\n                  borderRadius: '4px',\r\n                  marginRight: '15px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  backgroundColor: selectedGames.truthOrDare ? '#8B5CF6' : 'transparent'\r\n                }}>\r\n                  {selectedGames.truthOrDare && (\r\n                    <span style={{ color: '#FFFFFF', fontSize: '16px' }}>✓</span>\r\n                  )}\r\n                </div>\r\n                <div style={{ flex: 1 }}>\r\n                  <h3 style={{\r\n                    fontSize: '20px',\r\n                    fontWeight: 'bold',\r\n                    margin: 0,\r\n                    marginBottom: '5px'\r\n                  }}>\r\n                    {t.gameSelection.games.truthOrDare.name}\r\n                  </h3>\r\n                  <p style={{\r\n                    fontSize: '14px',\r\n                    color: '#AAAAAA',\r\n                    margin: 0\r\n                  }}>\r\n                    {t.gameSelection.games.truthOrDare.description}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Preferiresti */}\r\n              <div \r\n                onClick={() => toggleGameSelection('wouldYouRather')}\r\n                style={{\r\n                  backgroundColor: selectedGames.wouldYouRather ? '#8B5CF620' : '#2A2A2A',\r\n                  border: selectedGames.wouldYouRather ? '2px solid #8B5CF6' : '2px solid transparent',\r\n                  borderRadius: '15px',\r\n                  padding: '20px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.2s'\r\n                }}\r\n              >\r\n                <div style={{\r\n                  width: '24px',\r\n                  height: '24px',\r\n                  border: '2px solid #8B5CF6',\r\n                  borderRadius: '4px',\r\n                  marginRight: '15px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  backgroundColor: selectedGames.wouldYouRather ? '#8B5CF6' : 'transparent'\r\n                }}>\r\n                  {selectedGames.wouldYouRather && (\r\n                    <span style={{ color: '#FFFFFF', fontSize: '16px' }}>✓</span>\r\n                  )}\r\n                </div>\r\n                <div style={{ flex: 1 }}>\r\n                  <h3 style={{\r\n                    fontSize: '20px',\r\n                    fontWeight: 'bold',\r\n                    margin: 0,\r\n                    marginBottom: '5px'\r\n                  }}>\r\n                    {t.gameSelection.games.wouldYouRather.name}\r\n                  </h3>\r\n                  <p style={{\r\n                    fontSize: '14px',\r\n                    color: '#AAAAAA',\r\n                    margin: 0\r\n                  }}>\r\n                    {t.gameSelection.games.wouldYouRather.description}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Non ho mai */}\r\n              <div \r\n                onClick={() => toggleGameSelection('nonHoMai')}\r\n                style={{\r\n                  backgroundColor: selectedGames.nonHoMai ? '#8B5CF620' : '#2A2A2A',\r\n                  border: selectedGames.nonHoMai ? '2px solid #8B5CF6' : '2px solid transparent',\r\n                  borderRadius: '15px',\r\n                  padding: '20px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.2s'\r\n                }}\r\n              >\r\n                <div style={{\r\n                  width: '24px',\r\n                  height: '24px',\r\n                  border: '2px solid #8B5CF6',\r\n                  borderRadius: '4px',\r\n                  marginRight: '15px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  backgroundColor: selectedGames.nonHoMai ? '#8B5CF6' : 'transparent'\r\n                }}>\r\n                  {selectedGames.nonHoMai && (\r\n                    <span style={{ color: '#FFFFFF', fontSize: '16px' }}>✓</span>\r\n                  )}\r\n                </div>\r\n                <div style={{ flex: 1 }}>\r\n                  <h3 style={{\r\n                    fontSize: '20px',\r\n                    fontWeight: 'bold',\r\n                    margin: 0,\r\n                    marginBottom: '5px'\r\n                  }}>\r\n                    {t.gameSelection.games.nonHoMai.name}\r\n                  </h3>\r\n                  <p style={{\r\n                    fontSize: '14px',\r\n                    color: '#AAAAAA',\r\n                    margin: 0\r\n                  }}>\r\n                    {t.gameSelection.games.nonHoMai.description}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div style={{ \r\n            padding: '0',\r\n            position: 'fixed',\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n            backgroundColor: 'transparent',\r\n            zIndex: 10\r\n          }}>\r\n            <button \r\n              onClick={proceedWithSelectedGames}\r\n              disabled={!Object.values(selectedGames).some(selected => selected)}\r\n              style={{\r\n                width: '100%',\r\n                backgroundColor: Object.values(selectedGames).some(selected => selected) ? '#8B5CF6' : '#555555',\r\n                color: '#FFFFFF',\r\n                border: 'none',\r\n                borderRadius: '0',\r\n                padding: '16px',\r\n                fontSize: '18px',\r\n                fontWeight: 'bold',\r\n                cursor: Object.values(selectedGames).some(selected => selected) ? 'pointer' : 'not-allowed',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                gap: '10px'\r\n              }}\r\n            >\r\n              <span style={{ fontSize: '20px' }}>▶</span> {t.gameSelection.continueButton}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Language Selection Screen */}\r\n      {gameState === 'languageSelection' && (\r\n        <div className=\"screen language-selection-screen\" style={{ \r\n          backgroundColor: '#000000', \r\n          color: '#FFFFFF',\r\n          padding: '20px 0 0 0',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          height: '100vh'\r\n        }}>\r\n          <div style={{ \r\n            display: 'grid',\r\n            gridTemplateColumns: '50px 1fr 50px',\r\n            alignItems: 'center',\r\n            padding: '15px 0',\r\n            marginBottom: '20px'\r\n          }}>\r\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n              <button \r\n                onClick={goBack}\r\n                style={{\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  color: '#FFFFFF',\r\n                  fontSize: '24px',\r\n                  cursor: 'pointer',\r\n                  padding: '5px'\r\n                }}\r\n              >\r\n                ←\r\n              </button>\r\n            </div>\r\n            \r\n            <h1 style={{ \r\n              margin: 0, \r\n              textAlign: 'center',\r\n              fontWeight: 'normal',\r\n              fontSize: '28px',\r\n              letterSpacing: '1px'\r\n            }}>\r\n              {language === 'it' ? 'LINGUA' : \r\n               language === 'en' ? 'LANGUAGE' : \r\n               language === 'fr' ? 'LANGUE' : \r\n               'SPRACHE'}\r\n            </h1>\r\n            \r\n            <div></div>\r\n          </div>\r\n          \r\n          <div style={{ \r\n            flex: 1,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            padding: '0 20px',\r\n            marginBottom: '20px',\r\n            overflowY: 'auto'\r\n          }}>\r\n            <div style={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              gap: '15px',\r\n              marginTop: '20px'\r\n            }}>\r\n              <button \r\n                onClick={() => changeLanguage('it')}\r\n                style={{\r\n                  backgroundColor: language === 'it' ? '#3498db' : '#2A2A2A',\r\n                  border: 'none',\r\n                  borderRadius: '10px',\r\n                  padding: '20px',\r\n                  display: 'flex',\r\n                  flexDirection: 'row',\r\n                  alignItems: 'center',\r\n                  gap: '15px',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                <span style={{ fontSize: '24px' }}>🇮🇹</span>\r\n                <div style={{\r\n                  textAlign: 'left',\r\n                  flex: 1\r\n                }}>\r\n                  <h3 style={{\r\n                    fontSize: '18px',\r\n                    color: '#FFFFFF',\r\n                    margin: 0,\r\n                    marginBottom: '5px'\r\n                  }}>\r\n                    Italiano\r\n                  </h3>\r\n                  <p style={{\r\n                    fontSize: '14px',\r\n                    color: '#AAAAAA',\r\n                    margin: 0\r\n                  }}>\r\n                    Gioca in Italiano\r\n                  </p>\r\n                </div>\r\n                {language === 'it' && (\r\n                  <span style={{ fontSize: '24px', color: '#FFFFFF' }}>✓</span>\r\n                )}\r\n              </button>\r\n              \r\n              <button \r\n                onClick={() => changeLanguage('en')}\r\n                style={{\r\n                  backgroundColor: language === 'en' ? '#3498db' : '#2A2A2A',\r\n                  border: 'none',\r\n                  borderRadius: '10px',\r\n                  padding: '20px',\r\n                  display: 'flex',\r\n                  flexDirection: 'row',\r\n                  alignItems: 'center',\r\n                  gap: '15px',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                <span style={{ fontSize: '24px' }}>🇬🇧</span>\r\n                <div style={{\r\n                  textAlign: 'left',\r\n                  flex: 1\r\n                }}>\r\n                  <h3 style={{\r\n                    fontSize: '18px',\r\n                    color: '#FFFFFF',\r\n                    margin: 0,\r\n                    marginBottom: '5px'\r\n                  }}>\r\n                    English\r\n                  </h3>\r\n                  <p style={{\r\n                    fontSize: '14px',\r\n                    color: '#AAAAAA',\r\n                    margin: 0\r\n                  }}>\r\n                    Play in English\r\n                  </p>\r\n                </div>\r\n                {language === 'en' && (\r\n                  <span style={{ fontSize: '24px', color: '#FFFFFF' }}>✓</span>\r\n                )}\r\n              </button>\r\n\r\n              {/* Aggiungiamo l'opzione per il francese */}\r\n              <button \r\n                onClick={() => changeLanguage('fr')}\r\n                style={{\r\n                  backgroundColor: language === 'fr' ? '#3498db' : '#2A2A2A',\r\n                  border: 'none',\r\n                  borderRadius: '10px',\r\n                  padding: '20px',\r\n                  display: 'flex',\r\n                  flexDirection: 'row',\r\n                  alignItems: 'center',\r\n                  gap: '15px',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                <span style={{ fontSize: '24px' }}>🇫🇷</span>\r\n                <div style={{\r\n                  textAlign: 'left',\r\n                  flex: 1\r\n                }}>\r\n                  <h3 style={{\r\n                    fontSize: '18px',\r\n                    color: '#FFFFFF',\r\n                    margin: 0,\r\n                    marginBottom: '5px'\r\n                  }}>\r\n                    Français\r\n                  </h3>\r\n                  <p style={{\r\n                    fontSize: '14px',\r\n                    color: '#AAAAAA',\r\n                    margin: 0\r\n                  }}>\r\n                    Jouer en Français\r\n                  </p>\r\n                </div>\r\n                {language === 'fr' && (\r\n                  <span style={{ fontSize: '24px', color: '#FFFFFF' }}>✓</span>\r\n                )}\r\n              </button>\r\n\r\n              {/* Aggiungiamo l'opzione per il tedesco */}\r\n              <button \r\n                onClick={() => changeLanguage('de')}\r\n                style={{\r\n                  backgroundColor: language === 'de' ? '#3498db' : '#2A2A2A',\r\n                  border: 'none',\r\n                  borderRadius: '10px',\r\n                  padding: '20px',\r\n                  display: 'flex',\r\n                  flexDirection: 'row',\r\n                  alignItems: 'center',\r\n                  gap: '15px',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                <span style={{ fontSize: '24px' }}>🇩🇪</span>\r\n                <div style={{\r\n                  textAlign: 'left',\r\n                  flex: 1\r\n                }}>\r\n                  <h3 style={{\r\n                    fontSize: '18px',\r\n                    color: '#FFFFFF',\r\n                    margin: 0,\r\n                    marginBottom: '5px'\r\n                  }}>\r\n                    Deutsch\r\n                  </h3>\r\n                  <p style={{\r\n                    fontSize: '14px',\r\n                    color: '#AAAAAA',\r\n                    margin: 0\r\n                  }}>\r\n                    Auf Deutsch spielen\r\n                  </p>\r\n                </div>\r\n                {language === 'de' && (\r\n                  <span style={{ fontSize: '24px', color: '#FFFFFF' }}>✓</span>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div style={{ \r\n            padding: '0',\r\n            position: 'fixed',\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n            backgroundColor: 'transparent',\r\n            zIndex: 10\r\n          }}>\r\n            <button \r\n              onClick={goBack}\r\n              style={{\r\n                width: '100%',\r\n                backgroundColor: '#3498db',\r\n                color: '#FFFFFF',\r\n                border: 'none',\r\n                borderRadius: '0',\r\n                padding: '16px',\r\n                fontSize: '18px',\r\n                fontWeight: 'bold',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              {language === 'it' ? 'CONFERMA' : \r\n               language === 'en' ? 'CONFIRM' : \r\n               language === 'fr' ? 'CONFIRMER' : \r\n               'BESTÄTIGEN'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Player Setup Screen */}\r\n      {gameState === 'playerSetup' && (\r\n        <div className=\"screen player-setup-screen\" style={{ \r\n          backgroundColor: '#000000', \r\n          color: '#FFFFFF',\r\n          padding: '0',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          height: '100vh'\r\n        }}>\r\n          <div style={{ \r\n            display: 'grid',\r\n            gridTemplateColumns: '50px 1fr 50px',\r\n            alignItems: 'center',\r\n            padding: '15px 0',\r\n            marginBottom: '20px'\r\n          }}>\r\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n              <button \r\n                onClick={goBack}\r\n                style={{\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  color: '#FFFFFF',\r\n                  fontSize: '24px',\r\n                  cursor: 'pointer',\r\n                  padding: '5px'\r\n                }}\r\n              >\r\n                ←\r\n              </button>\r\n            </div>\r\n            \r\n            <h1 style={{ \r\n              margin: 0, \r\n              textAlign: 'center',\r\n              fontWeight: 'normal',\r\n              fontSize: '28px',\r\n              letterSpacing: '1px'\r\n            }}>\r\n              {t.playersScreenTitle}\r\n            </h1>\r\n            \r\n            <div></div> {/* Colonna vuota a destra per equilibrio */}\r\n          </div>\r\n          \r\n          <div style={{ \r\n            flex: 1,\r\n            padding: '0',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            overflow: 'auto',\r\n            marginBottom: '80px'\r\n          }}>\r\n            {inputPlayers.map((input, index) => (\r\n              <div key={input.id} style={{ \r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '10px',\r\n                width: '100%',\r\n                maxWidth: '340px',\r\n                marginBottom: '16px',\r\n                padding: '0 20px'\r\n              }}>\r\n                <input\r\n                  id={`player-input-${index}`}\r\n                  type=\"text\"\r\n                  value={input.name}\r\n                  onChange={(e) => updatePlayerName(input.id, e.target.value)}\r\n                  onKeyPress={(e) => handleKeyPress(e, input.id, index)}\r\n                  placeholder={t.playerInputPlaceholder}\r\n                  style={{\r\n                    flex: 1,\r\n                    backgroundColor: '#1A1A1A',\r\n                    color: '#FFFFFF',\r\n                    border: 'none',\r\n                    borderRadius: '10px',\r\n                    padding: '16px 20px',\r\n                    fontSize: '16px',\r\n                  }}\r\n                />\r\n                <button \r\n                  onClick={() => removePlayerInput(input.id)}\r\n                  disabled={inputPlayers.length <= 1}\r\n                  style={{\r\n                    background: 'none',\r\n                    border: 'none',\r\n                    color: '#808080',\r\n                    fontSize: '24px',\r\n                    cursor: 'pointer',\r\n                    padding: '10px',\r\n                    opacity: inputPlayers.length <= 1 ? 0.5 : 1\r\n                  }}\r\n                >\r\n                  🗑️\r\n                </button>\r\n              </div>\r\n            ))}\r\n            \r\n            <button \r\n              onClick={addPlayerInput}\r\n              disabled={inputPlayers.length >= 15}\r\n              style={{\r\n                margin: '5px 0 20px 0',\r\n                backgroundColor: 'transparent',\r\n                color: '#FFFFFF',\r\n                border: '1px dashed #808080',\r\n                borderRadius: '10px',\r\n                padding: '15px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                gap: '10px',\r\n                cursor: 'pointer',\r\n                fontSize: '16px',\r\n                width: '340px'\r\n              }}\r\n            >\r\n              <span style={{ fontSize: '20px' }}>⊕</span> {t.addPlayerLabel}\r\n            </button>\r\n          </div>\r\n          \r\n          <div style={{ \r\n            position: 'fixed',\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n            backgroundColor: 'transparent'\r\n          }}>\r\n            <button \r\n              onClick={startGame}\r\n              style={{\r\n                width: '100%',\r\n                backgroundColor: gameMode === 'games' ? '#8B5CF6' : '#3498db',\r\n                color: '#FFFFFF',\r\n                border: 'none',\r\n                borderRadius: '0',\r\n                padding: '16px',\r\n                fontSize: '18px',\r\n                fontWeight: 'bold',\r\n                cursor: 'pointer',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                gap: '10px'\r\n              }}\r\n            >\r\n              <span style={{ fontSize: '20px' }}>▶</span> {t.startGameButton}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Room Selection Screen */}\r\n      {gameState === 'roomSelection' && (\r\n        <div className=\"screen room-selection-screen\" style={{ \r\n          backgroundColor: '#000000', \r\n          color: '#FFFFFF',\r\n          padding: '0',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          height: '100vh',\r\n          overflowY: 'auto'\r\n        }}>\r\n          <div style={{ \r\n            display: 'grid',\r\n            gridTemplateColumns: '50px 1fr 50px',\r\n            alignItems: 'center',\r\n            padding: '15px 0',\r\n            marginBottom: '10px'\r\n          }}>\r\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n              <button \r\n                onClick={goBack}\r\n                style={{\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  color: '#FFFFFF',\r\n                  fontSize: '24px',\r\n                  cursor: 'pointer',\r\n                  padding: '5px'\r\n                }}\r\n              >\r\n                ←\r\n              </button>\r\n            </div>\r\n            \r\n            <h1 style={{ \r\n              margin: 0, \r\n              textAlign: 'center',\r\n              fontWeight: 'normal',\r\n              fontSize: '28px',\r\n              letterSpacing: '1px'\r\n            }}>\r\n              {t.roomsScreenTitle}\r\n            </h1>\r\n            \r\n            <div></div>\r\n          </div>\r\n          \r\n          <div style={{ \r\n            flex: 1,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            padding: '0 20px',\r\n            minHeight: '450px',\r\n            marginBottom: '20px'\r\n          }}>\r\n            <div style={{\r\n              width: '300px',\r\n              height: 'auto',\r\n              minHeight: '300px',\r\n              maxHeight: '70vh',\r\n              backgroundColor: t.rooms[currentRoomIndex].color,\r\n              borderRadius: '15px',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'center',\r\n              padding: '30px',\r\n              marginBottom: '15px'\r\n            }}>\r\n              <div style={{ flex: 1, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                <h2 style={{\r\n                  fontSize: '36px',\r\n                  fontWeight: 'bold',\r\n                  textAlign: 'center',\r\n                  color: t.rooms[currentRoomIndex].color === '#1F2937' || \r\n                        t.rooms[currentRoomIndex].color === '#DC2626' || \r\n                        t.rooms[currentRoomIndex].color === '#D946EF' ||\r\n                        t.rooms[currentRoomIndex].color === '#8B5CF6' ? '#FFFFFF' : '#000000'\r\n                }}>\r\n                  {t.rooms[currentRoomIndex].name}\r\n                </h2>\r\n              </div>\r\n              \r\n              <div style={{ marginBottom: '20px' }}>\r\n                <button \r\n                  onClick={() => selectRoom(t.rooms[currentRoomIndex])}\r\n                  style={{\r\n                    backgroundColor: '#FFFFFF',\r\n                    color: '#000000',\r\n                    border: 'none',\r\n                    borderRadius: '10px',\r\n                    padding: '14px 40px',\r\n                    fontSize: '16px',\r\n                    fontWeight: 'bold',\r\n                    cursor: 'pointer'\r\n                  }}\r\n                >\r\n                  {t.enterButton}\r\n                </button>\r\n              </div>\r\n              \r\n              <div style={{ minHeight: '40px', display: 'flex', alignItems: 'center' }}>\r\n                <p style={{\r\n                  fontSize: '16px',\r\n                  textAlign: 'center',\r\n                  color: t.rooms[currentRoomIndex].color === '#1F2937' ? '#9CA3AF' :\r\n                        t.rooms[currentRoomIndex].color === '#DC2626' ? 'rgba(255,255,255,0.8)' :\r\n                        t.rooms[currentRoomIndex].color === '#D946EF' ? '#f5d0fe' : \r\n                        t.rooms[currentRoomIndex].color === '#8B5CF6' ? 'rgba(255,255,255,0.8)' :\r\n                        'rgba(0,0,0,0.7)'\r\n                }}>\r\n                  {t.rooms[currentRoomIndex].description}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div style={{ \r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '20px',\r\n              marginBottom: '20px'\r\n            }}>\r\n              <button \r\n                onClick={() => {\r\n                  const newIndex = currentRoomIndex === 0 ? t.rooms.length - 1 : currentRoomIndex - 1;\r\n                  setCurrentRoomIndex(newIndex);\r\n                }}\r\n                style={{\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  color: '#AAAAAA',\r\n                  fontSize: '36px',\r\n                  cursor: 'pointer',\r\n                  padding: '10px'\r\n                }}\r\n              >\r\n                ‹\r\n              </button>\r\n              \r\n              <div style={{ \r\n                display: 'flex',\r\n                gap: '8px'\r\n              }}>\r\n                {t.rooms.map((_, index) => (\r\n                  <div \r\n                    key={index}\r\n                    onClick={() => setCurrentRoomIndex(index)}\r\n                    style={{\r\n                      width: '10px',\r\n                      height: '10px',\r\n                      borderRadius: '50%',\r\n                      backgroundColor: index === currentRoomIndex ? '#FFFFFF' : '#555555',\r\n                      cursor: 'pointer'\r\n                    }}\r\n                  ></div>\r\n                ))}\r\n              </div>\r\n              \r\n              <button \r\n                onClick={() => {\r\n                  const newIndex = currentRoomIndex === t.rooms.length - 1 ? 0 : currentRoomIndex + 1;\r\n                  setCurrentRoomIndex(newIndex);\r\n                }}\r\n                style={{\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  color: '#AAAAAA',\r\n                  fontSize: '36px',\r\n                  cursor: 'pointer',\r\n                  padding: '10px'\r\n                }}\r\n              >\r\n                ›\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Playing Screen */}\r\n      {gameState === 'playing' && (selectedRoom || gameMode === 'games') && (\r\n        <div className=\"screen playing-screen\" style={{ \r\n          backgroundColor: '#000000', \r\n          color: '#FFFFFF',\r\n          padding: '20px 0 0 0',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          height: '100vh'\r\n        }}>\r\n          <div style={{ \r\n            display: 'grid',\r\n            gridTemplateColumns: '50px 1fr 50px',\r\n            alignItems: 'center',\r\n            padding: '15px 0',\r\n            marginBottom: '20px'\r\n          }}>\r\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n              <button \r\n                onClick={goBack}\r\n                style={{\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  color: '#FFFFFF',\r\n                  fontSize: '24px',\r\n                  cursor: 'pointer',\r\n                  padding: '5px'\r\n                }}\r\n              >\r\n                ←\r\n              </button>\r\n            </div>\r\n            \r\n            <h1 style={{ \r\n              margin: 0, \r\n              textAlign: 'center',\r\n              fontWeight: 'normal',\r\n              fontSize: '28px',\r\n              letterSpacing: '1px'\r\n            }}>\r\n              {gameMode === 'games' ? t.gameSelection.selectedGamesTitle : selectedRoom.name.toUpperCase()}\r\n            </h1>\r\n            \r\n            <div></div> {/* Colonna vuota a destra per equilibrio */}\r\n          </div>\r\n          \r\n          <div style={{ \r\n            flex: 1,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            padding: '0 20px',\r\n            marginBottom: '80px'\r\n          }}>\r\n            <h2 style={{\r\n              fontSize: '26px',\r\n              fontWeight: 'bold',\r\n              textAlign: 'center',\r\n              margin: '10px 0 30px 0'\r\n            }}>\r\n              {activeSpecialGame ? (t.specialGamesTitles ? t.specialGamesTitles[activeSpecialGame] : activeSpecialGame) : players[currentPlayerIndex]}\r\n            </h2>\r\n            \r\n            <div style={{\r\n              backgroundColor: '#1A1A1A',\r\n              borderRadius: '15px',\r\n              padding: '30px 20px',\r\n              marginBottom: '30px',\r\n              minHeight: '180px',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              justifyContent: 'center',\r\n              alignItems: 'center'\r\n            }}>\r\n              {currentAction && (\r\n                <p style={{\r\n                  fontSize: '20px',\r\n                  lineHeight: '1.4',\r\n                  textAlign: 'center',\r\n                  whiteSpace: 'pre-wrap'\r\n                }}>\r\n                  {currentAction.text}\r\n                </p>\r\n              )}\r\n              \r\n              {/* Timer Challenge Component */}\r\n              {activeSpecialGame === \"timerChallenge\" && (\r\n                <div style={{\r\n                  marginTop: '20px',\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  alignItems: 'center',\r\n                  gap: '15px'\r\n                }}>\r\n                  <TimerChallengeComponent timerChallengeContent={timerChallengeContent} />\r\n                </div>\r\n              )}\r\n              \r\n              {/* Messaggio unificato per i giochi speciali attivi */}\r\n              {activeSpecialGame && activeSpecialGame !== \"wouldYouRather\" && activeSpecialGame !== \"timerChallenge\" && (\r\n                <p style={{ \r\n                  marginTop: '15px', \r\n                  fontSize: '16px', \r\n                  color: '#AAAAAA',\r\n                  textAlign: 'center'\r\n                }}>\r\n                  {getSpecialGameMessage && getSpecialGameMessage()}\r\n                </p>\r\n              )}\r\n              \r\n              {/* Pulsanti per la scelta Obbligo/Verità/Debito */}\r\n              {activeSpecialGame === \"truthOrDare\" && truthDareState === \"choosing\" && (\r\n                <div style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  alignItems: 'center',\r\n                  gap: '15px',\r\n                  marginTop: '20px'\r\n                }}>\r\n                  <p style={{ fontSize: '16px', color: '#AAAAAA' }}>\r\n                    {t.truthDareOptions.selectOption}\r\n                  </p>\r\n                  <div style={{\r\n                    display: 'flex',\r\n                    gap: '10px',\r\n                    justifyContent: 'center'\r\n                  }}>\r\n                    <button\r\n                      onClick={() => handleTruthDareChoice(\"truth\")}\r\n                      style={{\r\n                        backgroundColor: '#E74C3C',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '8px',\r\n                        padding: '12px 20px',\r\n                        fontSize: '16px',\r\n                        fontWeight: 'bold',\r\n                        cursor: 'pointer'\r\n                      }}\r\n                    >\r\n                      {t.truthDareOptions.truth}\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleTruthDareChoice(\"dare\")}\r\n                      style={{\r\n                        backgroundColor: '#3498DB',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '8px',\r\n                        padding: '12px 20px',\r\n                        fontSize: '16px',\r\n                        fontWeight: 'bold',\r\n                        cursor: 'pointer'\r\n                      }}\r\n                    >\r\n                      {t.truthDareOptions.dare}\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleTruthDareChoice(\"debt\")}\r\n                      style={{\r\n                        backgroundColor: '#2ECC71',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '8px',\r\n                        padding: '12px 20px',\r\n                        fontSize: '16px',\r\n                        fontWeight: 'bold',\r\n                        cursor: 'pointer'\r\n                      }}\r\n                    >\r\n                      {t.truthDareOptions.debt}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Mostra il contenuto della scelta */}\r\n              {activeSpecialGame === \"truthOrDare\" && truthDareState === \"executing\" && (\r\n                <div style={{\r\n                  marginTop: '20px',\r\n                  padding: '15px',\r\n                  backgroundColor: currentTruthDareChoice === \"truth\" ? '#E74C3C20' :\r\n                                currentTruthDareChoice === \"dare\" ? '#3498DB20' :\r\n                                '#2ECC7120',\r\n                  borderRadius: '10px',\r\n                  textAlign: 'center'\r\n                }}>\r\n                  <h3 style={{\r\n                    marginBottom: '10px',\r\n                    color: currentTruthDareChoice === \"truth\" ? '#E74C3C' :\r\n                        currentTruthDareChoice === \"dare\" ? '#3498DB' :\r\n                        '#2ECC71'\r\n                  }}>\r\n                    {currentTruthDareChoice === \"truth\" ? t.truthDareOptions.truth :\r\n                    currentTruthDareChoice === \"dare\" ? t.truthDareOptions.dare :\r\n                    t.truthDareOptions.debt}\r\n                  </h3>\r\n                  \r\n                  {truthDareContent && (\r\n                    <p style={{ fontSize: '18px' }}>\r\n                      {truthDareContent}\r\n                    </p>\r\n                  )}\r\n                  \r\n                  {currentTruthDareChoice === \"debt\" && (\r\n                    <p style={{ fontSize: '16px', color: '#AAAAAA', marginTop: '10px' }}>\r\n                      {t.truthDareOptions.debtExplanation}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <div style={{ \r\n            padding: '0',\r\n            position: 'fixed',\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n            backgroundColor: 'transparent',\r\n            zIndex: 10\r\n          }}>\r\n            {/* Gestione dei pulsanti in base al tipo di gioco speciale */}\r\n            {activeSpecialGame === \"truthOrDare\" && truthDareState === \"choosing\" ? (\r\n              // Manteniamo il pulsante originale durante la scelta Truth/Dare/Debt\r\n              <button \r\n                style={{\r\n                  width: '100%',\r\n                  backgroundColor: '#AAAAAA',\r\n                  color: '#FFFFFF',\r\n                  border: 'none',\r\n                  borderRadius: '0',\r\n                  padding: '16px',\r\n                  fontSize: '18px',\r\n                  fontWeight: 'bold',\r\n                  cursor: 'not-allowed',\r\n                  opacity: 0.5\r\n                }}\r\n              >\r\n                {t.truthDareOptions.chooseOption}\r\n              </button>\r\n            ) : activeSpecialGame === \"timerChallenge\" && !isTimerActive && timerSeconds > 0 ? (\r\n              // Per Timer Challenge quando il timer non è ancora stato avviato\r\n              <button \r\n                onClick={() => startTimer()}\r\n                style={{\r\n                  width: '100%',\r\n                  backgroundColor: '#FF6B35',\r\n                  color: '#FFFFFF',\r\n                  border: 'none',\r\n                  borderRadius: '0',\r\n                  padding: '16px',\r\n                  fontSize: '18px',\r\n                  fontWeight: 'bold',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                {t.startTimerButton}\r\n              </button>\r\n            ) : (\r\n              // Pulsante NEXT normale\r\n              <button \r\n                onClick={() => {\r\n                  if (activeSpecialGame) {\r\n                    nextTurnAfterSpecialGame();\r\n                  } else {\r\n                    nextTurn();\r\n                  }\r\n                }}\r\n                style={{\r\n                  width: '100%',\r\n                  backgroundColor: gameMode === 'games' ? '#8B5CF6' : '#3498db',\r\n                  color: '#FFFFFF',\r\n                  border: 'none',\r\n                  borderRadius: '0',\r\n                  padding: '16px',\r\n                  fontSize: '18px',\r\n                  fontWeight: 'bold',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                {t.nextButton}\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Game Over Screen */}\r\n      {gameState === 'gameOver' && (\r\n        <div \r\n          className=\"screen game-over-screen\" \r\n          onClick={() => {\r\n            // Se l'utente ha già giocato la partita gratuita e non ha pagato, mostra il paywall\r\n            if (hasPlayedFreeGame && !hasPaid) {\r\n              goBack(); // Utilizza la funzione goBack passata dalle props\r\n            } else {\r\n              goBack(); // Utilizza la funzione goBack passata dalle props\r\n            }\r\n          }}\r\n          style={{\r\n            backgroundColor: '#000000',\r\n            color: '#FFFFFF',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            height: '100vh',\r\n            padding: '20px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          <div style={{\r\n            textAlign: 'center',\r\n            maxWidth: '340px'\r\n          }}>\r\n            <h1 style={{ \r\n              fontSize: '36px', \r\n              marginBottom: '30px',\r\n              fontWeight: 'bold'\r\n            }}>\r\n              {t.gameOverMessage}\r\n            </h1>\r\n            \r\n            <p style={{ \r\n              fontSize: '18px', \r\n              marginBottom: '50px',\r\n              color: '#CCCCCC',\r\n              lineHeight: '1.5'\r\n            }}>\r\n              {t.actionsCompletedMessage && MAX_ACTIONS_PER_GAME ?\r\n                t.actionsCompletedMessage.replace('{count}', MAX_ACTIONS_PER_GAME) :\r\n                `Partita completata!`}\r\n            </p>\r\n            \r\n            <div style={{ \r\n              width: '120px',\r\n              height: '120px',\r\n              margin: '0 auto 40px',\r\n              animation: 'float 2s infinite ease-in-out'\r\n            }}>\r\n              <img \r\n                src={pointingGlove} \r\n                alt=\"Guanto che punta\" \r\n                style={{\r\n                  width: '100%',\r\n                  height: '100%',\r\n                  objectFit: 'contain',\r\n                  filter: 'brightness(0) invert(1)'\r\n                }}\r\n              />\r\n            </div>\r\n            \r\n            <p style={{ \r\n              fontSize: '16px', \r\n              color: gameMode === 'games' ? '#8B5CF6' : '#3498db'\r\n            }}>\r\n              {t.tapToContinueMessage ? t.tapToContinueMessage.replace(\r\n                '{action}', \r\n                hasPlayedFreeGame && !hasPaid \r\n                  ? (t.unlockMoreGamesMessage || 'sbloccare altre partite')\r\n                  : gameMode === 'games' \r\n                    ? (t.returnToGamesMessage || 'tornare alla selezione dei giochi')\r\n                    : (t.returnToRoomsMessage || 'tornare alla selezione delle stanze')\r\n              ) : 'Tocca per continuare'}\r\n            </p>\r\n          </div>\r\n          \r\n          {/* Add CSS animation for the floating effect */}\r\n          <style jsx=\"true\">{`\r\n            @keyframes float {\r\n              0% { transform: translateY(0px); }\r\n              50% { transform: translateY(-10px); }\r\n              100% { transform: translateY(0px); }\r\n            }\r\n            @keyframes pulse {\r\n              0% { transform: scale(1); }\r\n              50% { transform: scale(1.1); }\r\n              100% { transform: scale(1); }\r\n            }\r\n          `}</style>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Paywall Screen */}\r\n      {gameState === 'paywall' && (\r\n        <div className=\"screen paywall-screen\" style={{ \r\n          backgroundColor: '#000000', \r\n          color: '#FFFFFF',\r\n          padding: '20px 0 0 0',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          height: '100vh'\r\n        }}>\r\n          <div style={{ \r\n            display: 'grid',\r\n            gridTemplateColumns: '50px 1fr 50px',\r\n            alignItems: 'center',\r\n            padding: '15px 0',\r\n            marginBottom: '20px'\r\n          }}>\r\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n              <button \r\n                onClick={goBack}\r\n                style={{\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  color: '#FFFFFF',\r\n                  fontSize: '24px',\r\n                  cursor: 'pointer',\r\n                  padding: '5px'\r\n                }}\r\n              >\r\n                ←\r\n              </button>\r\n            </div>\r\n            \r\n            <h1 style={{ \r\n              margin: 0, \r\n              textAlign: 'center',\r\n              fontWeight: 'normal',\r\n              fontSize: '28px',\r\n              letterSpacing: '1px'\r\n            }}>\r\n              {t.unlockGameTitle}\r\n            </h1>\r\n            \r\n            <div></div> {/* Colonna vuota a destra per equilibrio */}\r\n          </div>\r\n          \r\n          <div style={{ \r\n            flex: 1,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            padding: '0 20px'\r\n          }}>\r\n            <div style={{\r\n              backgroundColor: '#1A1A1A',\r\n              borderRadius: '15px',\r\n              padding: '25px 20px',\r\n              marginBottom: '30px',\r\n              textAlign: 'center'\r\n            }}>\r\n              <h2 style={{\r\n                fontSize: '24px',\r\n                fontWeight: 'bold',\r\n                marginBottom: '15px'\r\n              }}>\r\n                {t.freeGameEndedTitle}\r\n              </h2>\r\n              <p style={{\r\n                fontSize: '16px',\r\n                color: '#CCCCCC',\r\n                lineHeight: '1.5',\r\n                marginBottom: '20px'\r\n              }}>\r\n                {t.freeGameEndedMessage}\r\n              </p>\r\n              \r\n              <div style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                gap: '15px',\r\n                marginTop: '25px'\r\n              }}>\r\n                {t.paymentOptions && t.paymentOptions.map(option => (\r\n                  <div \r\n                    key={option.id}\r\n                    onClick={() => selectPaymentOption && selectPaymentOption(option)}\r\n                    style={{\r\n                      backgroundColor: selectedPaymentOption?.id === option.id ? '#3498db20' : '#2A2A2A',\r\n                      border: selectedPaymentOption?.id === option.id ? '2px solid #3498db' : '2px solid transparent',\r\n                      borderRadius: '10px',\r\n                      padding: '20px',\r\n                      display: 'flex',\r\n                      flexDirection: 'column',\r\n                      cursor: 'pointer',\r\n                      transition: 'all 0.2s'\r\n                    }}\r\n                  >\r\n                    <div style={{\r\n                      display: 'flex',\r\n                      justifyContent: 'space-between',\r\n                      alignItems: 'center',\r\n                      marginBottom: '10px'\r\n                    }}>\r\n                      <h3 style={{\r\n                        fontSize: '18px',\r\n                        fontWeight: 'bold'\r\n                      }}>\r\n                        {option.name}\r\n                      </h3>\r\n                      <div style={{\r\n                        fontSize: '20px',\r\n                        fontWeight: 'bold',\r\n                        color: '#3498db'\r\n                      }}>\r\n                        €{option.price}\r\n                      </div>\r\n                    </div>\r\n                    <p style={{\r\n                      fontSize: '14px',\r\n                      color: '#AAAAAA',\r\n                      textAlign: 'left'\r\n                    }}>\r\n                      {option.description}\r\n                    </p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div style={{ \r\n            padding: '0',\r\n            position: 'fixed',\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n            backgroundColor: 'transparent',\r\n            zIndex: 10\r\n          }}>\r\n            <button \r\n              onClick={processPayment}\r\n              disabled={!selectedPaymentOption || isProcessingPayment}\r\n              style={{\r\n                width: '100%',\r\n                backgroundColor: selectedPaymentOption ? '#3498db' : '#555555',\r\n                color: '#FFFFFF',\r\n                border: 'none',\r\n                borderRadius: '0',\r\n                padding: '16px',\r\n                fontSize: '18px',\r\n                fontWeight: 'bold',\r\n                cursor: selectedPaymentOption ? 'pointer' : 'not-allowed',\r\n                opacity: isProcessingPayment ? 0.7 : 1,\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                gap: '10px'\r\n              }}\r\n            >\r\n              {isProcessingPayment ? t.processingPayment : t.purchaseButton}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Interfaccia per i debiti */}\r\n      {gameState === 'playing' && debtList && debtList.length > 0 && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          bottom: '70px',\r\n          right: '20px',\r\n          zIndex: 100\r\n        }}>\r\n          <button\r\n            onClick={() => alert(`${t.debts.activeDebtsTitle}\\n${debtList.filter(d => d.status === 'active').map(d => `- ${d.player}: ${d.description}`).join('\\n')}`)}\r\n            style={{\r\n              backgroundColor: '#EAB308',\r\n              color: 'black',\r\n              border: 'none',\r\n              borderRadius: '50%',\r\n              width: '40px',\r\n              height: '40px',\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              fontSize: '20px',\r\n              boxShadow: '0 2px 10px rgba(0,0,0,0.2)',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            {t.debts.buttonLabel}\r\n          </button>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Loading Screen */}\r\n      {isLoading && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          zIndex: 1000\r\n        }}>\r\n          <div style={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            color: '#FFFFFF'\r\n          }}>\r\n            <div style={{\r\n              width: '40px',\r\n              height: '40px',\r\n              borderRadius: '50%',\r\n              border: '3px solid rgba(255,255,255,0.3)',\r\n              borderTopColor: '#FFFFFF',\r\n              animation: 'spin 1s ease-in-out infinite',\r\n              marginBottom: '15px'\r\n            }}></div>\r\n            <p style={{\r\n              fontSize: '16px'\r\n            }}>{t.loadingMessage}</p>\r\n            \r\n            <style jsx=\"true\">{`\r\n              @keyframes spin {\r\n                to { transform: rotate(360deg); }\r\n              }\r\n            `}</style>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameUI;","// DrinkingGameApp.js - Componente principale che collega la logica con l'interfaccia utente\nimport React from 'react';\nimport './App.css';\nimport useGameLogic from './useGameLogic';\nimport GameUI from './GameUI';\n\n/**\n * Componente principale dell'applicazione\n * Collega la logica di gioco (useGameLogic) con l'interfaccia utente (GameUI)\n */\nconst DrinkingGameApp = () => {\n  // Utilizziamo il custom hook per ottenere tutta la logica e lo stato del gioco\n  const gameLogic = useGameLogic();\n  \n  // Passiamo tutti i valori e le funzioni al componente UI\n  return <GameUI {...gameLogic} />;\n};\n\nexport default DrinkingGameApp;","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './App.css';\nimport DrinkingGameApp from './DrinkingGameApp';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <DrinkingGameApp />\n  </React.StrictMode>\n);","module.exports = __webpack_public_path__ + \"static/media/pointing-glove.f00b599b.png\";"],"sourceRoot":""}